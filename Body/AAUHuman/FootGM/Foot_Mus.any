
//The data for muscles atachment points come from:
//Musculotendon Parameters and Musculoskeletal Pathways Within the Human Foot. Gary T. Yamaguchi et al. Journal of Applied Biomechanics, 2007; 23:20-41. 2007
//
//The subject 4 has been choosen for his relatively standard foot size.


#if BM_COMPATIBILITY_MUSCLE_STRUCTURE == ON
  #include "ammr_3.0_compatibility_structure_Foot_Mus.any"
#endif

MuscleGroup FlexorDigitorumLongusToeTendon() = {
  AnyMuscleViaPoint FlexorDigitorumLongusToe2Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    //AnyRefNode &Via8 = ....Seg.Foot.FDL.FDLDummySeg.FlexorDigitorumLongusViaNode8;
    AnyRefNode &ViaLB = ....Seg.Foot.FDL.FDLDummySeg.LB2_Org;
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal2.FlexorDigitorumLongusViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.ProximalPhalange2.FlexorDigitorumLongusViaNode10;
    AnyRefNode &Via11 = ....Seg.Foot.MiddlePhalange2.FlexorDigitorumLongusViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange2.FlexorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint FlexorDigitorumLongusToe3Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    //AnyRefNode &Via8 = ....Seg.Foot.FDL.FDLDummySeg.FlexorDigitorumLongusViaNode8;
    AnyRefNode &ViaLB = ....Seg.Foot.FDL.FDLDummySeg.LB3_Org;
    AnyRefNode &Via12 = ....Seg.Foot.Metatarsal3.FlexorDigitorumLongusViaNode12;
    AnyRefNode &Via13 = ....Seg.Foot.ProximalPhalange3.FlexorDigitorumLongusViaNode13;
    AnyRefNode &Via14 = ....Seg.Foot.MiddlePhalange3.FlexorDigitorumLongusViaNode14;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange3.FlexorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint FlexorDigitorumLongusToe4Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    //AnyRefNode &Via8 = ....Seg.Foot.FDL.FDLDummySeg.FlexorDigitorumLongusViaNode8;
    AnyRefNode &ViaLB = ....Seg.Foot.FDL.FDLDummySeg.LB4_Org;
    AnyRefNode &Via15 = ....Seg.Foot.Metatarsal4.FlexorDigitorumLongusViaNode15;
    AnyRefNode &Via16 = ....Seg.Foot.ProximalPhalange4.FlexorDigitorumLongusViaNode16;
    AnyRefNode &Via17 = ....Seg.Foot.MiddlePhalange4.FlexorDigitorumLongusViaNode17;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange4.FlexorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint FlexorDigitorumLongusToe5Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    //AnyRefNode &Via8 = ....Seg.Foot.FDL.FDLDummySeg.FlexorDigitorumLongusViaNode8;
    AnyRefNode &ViaLB = ....Seg.Foot.FDL.FDLDummySeg.LB5_Org;
    AnyRefNode &Via18 = ....Seg.Foot.Metatarsal5.FlexorDigitorumLongusViaNode18;
    AnyRefNode &Via19 = ....Seg.Foot.ProximalPhalange5.FlexorDigitorumLongusViaNode19;
    AnyRefNode &Via20 = ....Seg.Foot.MiddlePhalange5.FlexorDigitorumLongusViaNode20;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange5.FlexorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any" 
    };
  };
  
  //AnyMuscleActivityConstraint FlexorDigitorumLongusInterTendonLink = 
  //{
  //  AnyMuscle &muscle0 = .FlexorDigitorumLongusToe2Tendon;
  //  AnyMuscle &muscle1 = .FlexorDigitorumLongusToe3Tendon;
  //  AnyMuscle &muscle2 = .FlexorDigitorumLongusToe4Tendon;
  //  AnyMuscle &muscle3 = .FlexorDigitorumLongusToe5Tendon;
  //  nCon = 3;
  //  Coef = {{-1,1,0,0},{-1,0,1,0},{-1,0,0,1}};
  //  Const = {0,0,0};
  //};    
};


MuscleGroup ExtensorDigitorumLongusToeTendon() = {
  AnyMuscleViaPoint ExtensorDigitorumLongusToe2Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via5 = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5;
    AnyRefNode &Via5Bis = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5Bis;
    //  AnyRefNode &Via5 = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5;
    //  AnyRefNode &Via5Bis = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5Bis;
    AnyRefNode &Via6Bis = ....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6Bis;
    AnyRefNode &Via6 = ....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe2TendonPart1 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via6 = ....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    AnyRefNode &Via7 = ....Seg.Foot.ProximalPhalange2.ExtensorDigitorumLongusViaNode7;
    AnyRefNode &Via8 = ....Seg.Foot.MiddlePhalange2.ExtensorDigitorumLongusViaNode8;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange2.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe2TendonPart2 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via6 = ....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    AnyRefNode &Via7 = ....Seg.Foot.ProximalPhalange2.ExtensorDigitorumLongusViaNode7;
    AnyRefNode &Ins = ....Seg.Foot.MiddlePhalange2.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe2TendonPart3 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via6 = ....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange2.DI2_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe2TendonPart4 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via6 = ....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange2.DI1_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe3Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via5 = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5;
    AnyRefNode &Via5Bis = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5Bis;
    //  AnyRefNode &Via5 = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5;
    //  AnyRefNode &Via5Bis = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5Bis;
    AnyRefNode &Via9Bis = ....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9Bis;
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe3TendonPart1 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.ProximalPhalange3.ExtensorDigitorumLongusViaNode10;
    AnyRefNode &Via11 = ....Seg.Foot.MiddlePhalange3.ExtensorDigitorumLongusViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange3.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe3TendonPart2 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.ProximalPhalange3.ExtensorDigitorumLongusViaNode10;
    AnyRefNode &Ins = ....Seg.Foot.MiddlePhalange3.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe3TendonPart3 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange3.DI3_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe3TendonPart4 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange3.PI1_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe4Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via5 = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5;
    AnyRefNode &Via5Bis = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5Bis;
    //  AnyRefNode &Via5 = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5;
    //  AnyRefNode &Via5Bis = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5Bis;
    AnyRefNode &Via12Bis = ....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12Bis;
    AnyRefNode &Via12 = ....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe4TendonPart1 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via12 = ....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
    AnyRefNode &Via13 = ....Seg.Foot.ProximalPhalange4.ExtensorDigitorumLongusViaNode13;
    AnyRefNode &Via14 = ....Seg.Foot.MiddlePhalange4.ExtensorDigitorumLongusViaNode14;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange4.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any"};
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe4TendonPart2 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via12 = ....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
    AnyRefNode &Via13 = ....Seg.Foot.ProximalPhalange4.ExtensorDigitorumLongusViaNode13;
    AnyRefNode &Ins = ....Seg.Foot.MiddlePhalange4.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe4TendonPart3 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via12 = ....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange4.DI4_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe4TendonPart4 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via12 = ....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange4.PI2_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe5Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via5 = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5;
    AnyRefNode &Via5Bis = ....Seg.Foot.Calcaneus.ExtensorDigitorumLongusViaNode5Bis;
    //  AnyRefNode &Via5 = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5;
    //  AnyRefNode &Via5Bis = ....Seg.Foot.Navicular.ExtensorDigitorumLongusViaNode5Bis;
    AnyRefNode &Via15 = ....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe5TendonPart1 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via15 = ....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    AnyRefNode &Via16 = ....Seg.Foot.ProximalPhalange5.ExtensorDigitorumLongusViaNode16;
    AnyRefNode &Via17 = ....Seg.Foot.MiddlePhalange5.ExtensorDigitorumLongusViaNode17;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange5.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe5TendonPart2 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via15 = ....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    AnyRefNode &Via16 = ....Seg.Foot.ProximalPhalange5.ExtensorDigitorumLongusViaNode16;
    AnyRefNode &Ins = ....Seg.Foot.MiddlePhalange5.ExtensorDigitorumLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe5TendonPart3 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via15 = ....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange5.ABDM_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorDigitorumLongusToe5TendonPart4 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via15 = ....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange5.PI3_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
};




AnyFolder ExtensorDigitorumTendonActivityConstraints = {
  //AnyMuscleActivityConstraint ExtensorDigitorumLongusInterTendonLink = 
  //{
  //  AnyMuscle &muscle0 = .ExtensorDigitorumLongusToe2Tendon;
  //  AnyMuscle &muscle1 = .ExtensorDigitorumLongusToe3Tendon;
  //  AnyMuscle &muscle2 = .ExtensorDigitorumLongusToe4Tendon;
  //  AnyMuscle &muscle3 = .ExtensorDigitorumLongusToe5Tendon;
  //  nCon = 3;
  //  Coef = {{-1,1,0,0},{-1,0,1,0},{-1,0,0,1}};
  //  Const = {0,0,0};
  //};
  
  
  
  AnyMuscleActivityConstraint ExtensorDigitorumLongusMuscleTendonLink = 
  {
    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2Tendon;
    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3Tendon;
    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4Tendon;
    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5Tendon;
    AnyMuscle &muscle4 = ...ExtensorDigitorumLongus.ExtensorDigitorumLongus1;
    AnyMuscle &muscle5 = ...ExtensorDigitorumLongus.ExtensorDigitorumLongus2;
    AnyMuscle &muscle6 = ...ExtensorDigitorumLongus.ExtensorDigitorumLongus3;
    nCon = 1;
    Coef = {{-muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0,
        -muscle2.MusMdl.F0,
        -muscle3.MusMdl.F0,
        muscle4.MusMdl.F0,
        muscle5.MusMdl.F0,
        muscle6.MusMdl.F0
      }};
    Const = {0};
  };
  
  
  
  
  
  
  AnyFolder ExtensorDigitorumLongusToe2TendonLink = {
    
    AnyKinLinear Toe2TendonPart1Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange2.ExtensorDigitorumLongusViaNode7;
    };
    
    AnyKinLinear Toe2TendonPart2Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange2.ExtensorDigitorumLongusViaNode7;
    };
    
    AnyKinLinear Toe2TendonPart3Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange2.DI2_Ins;
    };
    
    AnyKinLinear Toe2TendonPart4Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange2.DI1_Ins;
    };
    
    
    AnyVar Toe2TendonPart1LinNorm = vnorm(Toe2TendonPart1Lin.Pos);
    AnyVar Toe2TendonPart1LinNormCond = iffun(Toe2TendonPart1LinNorm, Toe2TendonPart1LinNorm, 1.0);
    AnyVec3 Toe2TendonPart1UnityVec = Toe2TendonPart1Lin.Pos/Toe2TendonPart1LinNormCond;
    
    AnyVar Toe2TendonPart2LinNorm = vnorm(Toe2TendonPart2Lin.Pos);
    AnyVar Toe2TendonPart2LinNormCond = iffun(Toe2TendonPart2LinNorm, Toe2TendonPart2LinNorm, 1.0);
    AnyVec3 Toe2TendonPart2UnityVec = Toe2TendonPart2Lin.Pos/Toe2TendonPart2LinNormCond;
    
    AnyVar Toe2TendonPart3LinNorm = vnorm(Toe2TendonPart3Lin.Pos);
    AnyVar Toe2TendonPart3LinNormCond = iffun(Toe2TendonPart3LinNorm, Toe2TendonPart3LinNorm, 1.0);
    AnyVec3 Toe2TendonPart3UnityVec = Toe2TendonPart3Lin.Pos/Toe2TendonPart3LinNormCond;
    
    AnyVar Toe2TendonPart4LinNorm = vnorm(Toe2TendonPart4Lin.Pos);
    AnyVar Toe2TendonPart4LinNormCond = iffun(Toe2TendonPart4LinNorm, Toe2TendonPart4LinNorm, 1.0);
    AnyVec3 Toe2TendonPart4UnityVec = Toe2TendonPart4Lin.Pos/Toe2TendonPart4LinNormCond;
    
    
    //This calculation of the resultant direction asumes that the force of each tendon is equal
    AnyVar TendonResultantNorm = vnorm(Toe2TendonPart1UnityVec + Toe2TendonPart2UnityVec + Toe2TendonPart3UnityVec + Toe2TendonPart4UnityVec);
    AnyVar TendonResultantNormCond = iffun(TendonResultantNorm, TendonResultantNorm, 1.0);
    AnyVec3 TendonResultantUnityVec = (Toe2TendonPart1UnityVec + Toe2TendonPart2UnityVec + Toe2TendonPart3UnityVec + Toe2TendonPart4UnityVec)/TendonResultantNormCond;
    
    
    AnyVar SinPart1 = vnorm(cross(TendonResultantUnityVec, Toe2TendonPart1UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart1 = asin(SinPart1);
    
    AnyVar SinPart2 = vnorm(cross(TendonResultantUnityVec, Toe2TendonPart2UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart2 = asin(SinPart2);
    
    AnyVar SinPart3 = vnorm(cross(TendonResultantUnityVec, Toe2TendonPart3UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart3 = asin(SinPart3);
    
    AnyVar SinPart4 = vnorm(cross(TendonResultantUnityVec, Toe2TendonPart4UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart4 = asin(SinPart4);
    
    AnyMuscleActivityConstraint ExtensorDigitorumLongusToe2TendonLink = 
    {
      AnyMuscle &muscle0 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart1;
      AnyMuscle &muscle1 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart2;
      AnyMuscle &muscle2 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart3;
      AnyMuscle &muscle3 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart4;
      AnyMuscle &muscle4 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2Tendon;
      //  AnyMuscle &muscle5 = ...ExtensorDigitoriumBrevis2;
      nCon = 1;
      Coef = {{-muscle0.MusMdl.F0*abs(cos(.AnglePart1)),
          -muscle1.MusMdl.F0*abs(cos(.AnglePart2)),
          -muscle2.MusMdl.F0*abs(cos(.AnglePart3)),
          -muscle3.MusMdl.F0*abs(cos(.AnglePart4)),
          muscle4.MusMdl.F0
          //    muscle5.MusMdl.F0
        }};
      Const = {0};
    };
    
    //**Check, if it works ok the two norms will be equal.**
    //  AnyForceMomentMeasure Check1 = 
    //  {
    //    AnyMuscle &muscle4 = ..ExtensorDigitorumLongusToe2Tendon;
    //    AnyMuscle &muscle5 = ..ExtensorDigitoriumBrevis2;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    //    AnyVar Norm = vnorm(F);
    //  };
    //  
    //  AnyForceMomentMeasure Check2 = 
    //  {
    //    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToe2TendonPart1;
    //    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToe2TendonPart2;
    //    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToe2TendonPart3;
    //    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToe2TendonPart4;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal2.ExtensorDigitorumLongusViaNode6;
    //    AnyVar Norm = vnorm(F);
    //  };
    
  };
  
  
  AnyMuscleActivityConstraint ExtensorDigitorumLongusToe2TendonLink2 = 
  {
    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart3;
    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart4;
    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart1;
    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe2TendonPart2;
    nCon = 3;
    Coef = {{-1,1,0,0},{-1,0,1,0},{-1,0,0,1}};
    Const = {0,0,0};
  };
  
  
  
  
  
  AnyFolder ExtensorDigitorumLongusToe3TendonLink = {
    
    AnyKinLinear Toe3TendonPart1Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange3.ExtensorDigitorumLongusViaNode10;
    };
    
    AnyKinLinear Toe3TendonPart2Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange3.ExtensorDigitorumLongusViaNode10;
    };
    
    AnyKinLinear Toe3TendonPart3Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange3.DI3_Ins;
    };
    
    AnyKinLinear Toe3TendonPart4Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange3.PI1_Ins;
    };
    
    
    AnyVar Toe3TendonPart1LinNorm = vnorm(Toe3TendonPart1Lin.Pos);
    AnyVar Toe3TendonPart1LinNormCond = iffun(Toe3TendonPart1LinNorm, Toe3TendonPart1LinNorm, 1.0);
    AnyVec3 Toe3TendonPart1UnityVec = Toe3TendonPart1Lin.Pos/Toe3TendonPart1LinNormCond;
    
    AnyVar Toe3TendonPart2LinNorm = vnorm(Toe3TendonPart2Lin.Pos);
    AnyVar Toe3TendonPart2LinNormCond = iffun(Toe3TendonPart2LinNorm, Toe3TendonPart2LinNorm, 1.0);
    AnyVec3 Toe3TendonPart2UnityVec = Toe3TendonPart2Lin.Pos/Toe3TendonPart2LinNormCond;
    
    AnyVar Toe3TendonPart3LinNorm = vnorm(Toe3TendonPart3Lin.Pos);
    AnyVar Toe3TendonPart3LinNormCond = iffun(Toe3TendonPart3LinNorm, Toe3TendonPart3LinNorm, 1.0);
    AnyVec3 Toe3TendonPart3UnityVec = Toe3TendonPart3Lin.Pos/Toe3TendonPart3LinNormCond;
    
    AnyVar Toe3TendonPart4LinNorm = vnorm(Toe3TendonPart4Lin.Pos);
    AnyVar Toe3TendonPart4LinNormCond = iffun(Toe3TendonPart4LinNorm, Toe3TendonPart4LinNorm, 1.0);
    AnyVec3 Toe3TendonPart4UnityVec = Toe3TendonPart4Lin.Pos/Toe3TendonPart4LinNormCond;
    
    
    //This calculation of the resultant direction asumes that the force of each tendon is equal
    AnyVar TendonResultantNorm = vnorm(Toe3TendonPart1UnityVec + Toe3TendonPart2UnityVec + Toe3TendonPart3UnityVec + Toe3TendonPart4UnityVec);
    AnyVar TendonResultantNormCond = iffun(TendonResultantNorm, TendonResultantNorm, 1.0);
    AnyVec3 TendonResultantUnityVec = (Toe3TendonPart1UnityVec + Toe3TendonPart2UnityVec + Toe3TendonPart3UnityVec + Toe3TendonPart4UnityVec)/TendonResultantNormCond;
    
    
    AnyVar SinPart1 = vnorm(cross(TendonResultantUnityVec, Toe3TendonPart1UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart1 = asin(SinPart1);
    
    AnyVar SinPart2 = vnorm(cross(TendonResultantUnityVec, Toe3TendonPart2UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart2 = asin(SinPart2);
    
    AnyVar SinPart3 = vnorm(cross(TendonResultantUnityVec, Toe3TendonPart3UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart3 = asin(SinPart3);
    
    AnyVar SinPart4 = vnorm(cross(TendonResultantUnityVec, Toe3TendonPart4UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart4 = asin(SinPart4);
    
    AnyMuscleActivityConstraint ExtensorDigitorumLongusToe3TendonLink = 
    {
      AnyMuscle &muscle0 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart1;
      AnyMuscle &muscle1 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart2;
      AnyMuscle &muscle2 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart3;
      AnyMuscle &muscle3 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart4;
      AnyMuscle &muscle4 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3Tendon;
      //   AnyMuscle &muscle5 = ..ExtensorDigitoriumBrevis3;
      nCon = 1;
      Coef = {{-muscle0.MusMdl.F0*abs(cos(.AnglePart1)),
          -muscle1.MusMdl.F0*abs(cos(.AnglePart2)),
          -muscle2.MusMdl.F0*abs(cos(.AnglePart3)),
          -muscle3.MusMdl.F0*abs(cos(.AnglePart4)),
          muscle4.MusMdl.F0
          //   muscle5.MusMdl.F0
        }};
      Const = {0};
    };
    
    
    //**Check, if it works ok the two norms will be equal.**
    //  AnyForceMomentMeasure Check1 = 
    //  {
    //    AnyMuscle &muscle4 = ..ExtensorDigitorumLongusToe3Tendon;
    //    AnyMuscle &muscle5 = ..ExtensorDigitoriumBrevis3;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    //    AnyVar Norm = vnorm(F);
    //  };
    //  
    //  AnyForceMomentMeasure Check2 = 
    //  {
    //    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToe3TendonPart1;
    //    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToe3TendonPart2;
    //    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToe3TendonPart3;
    //    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToe3TendonPart4;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal3.ExtensorDigitorumLongusViaNode9;
    //    AnyVar Norm = vnorm(F);
    //  };
    
  };
  
  AnyMuscleActivityConstraint ExtensorDigitorumLongusToe3TendonLink2 = 
  {
    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart3;
    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart4;
    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart1;
    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe3TendonPart2;
    nCon = 3;
    Coef = {{-1,1,0,0},{-1,0,1,0},{-1,0,0,1}};
    Const = {0,0,0};
  };
  
  
  
  
  
  AnyFolder ExtensorDigitorumLongusToe4TendonLink = {
    
    AnyKinLinear Toe4TendonPart1Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange4.ExtensorDigitorumLongusViaNode13;
    };
    
    AnyKinLinear Toe4TendonPart2Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange4.ExtensorDigitorumLongusViaNode13;
    };
    
    AnyKinLinear Toe4TendonPart3Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange4.DI4_Ins;
    };
    
    AnyKinLinear Toe4TendonPart4Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange4.PI2_Ins;
    };
    
    
    AnyVar Toe4TendonPart1LinNorm = vnorm(Toe4TendonPart1Lin.Pos);
    AnyVar Toe4TendonPart1LinNormCond = iffun(Toe4TendonPart1LinNorm, Toe4TendonPart1LinNorm, 1.0);
    AnyVec3 Toe4TendonPart1UnityVec = Toe4TendonPart1Lin.Pos/Toe4TendonPart1LinNormCond;
    
    AnyVar Toe4TendonPart2LinNorm = vnorm(Toe4TendonPart2Lin.Pos);
    AnyVar Toe4TendonPart2LinNormCond = iffun(Toe4TendonPart2LinNorm, Toe4TendonPart2LinNorm, 1.0);
    AnyVec3 Toe4TendonPart2UnityVec = Toe4TendonPart2Lin.Pos/Toe4TendonPart2LinNormCond;
    
    AnyVar Toe4TendonPart3LinNorm = vnorm(Toe4TendonPart3Lin.Pos);
    AnyVar Toe4TendonPart3LinNormCond = iffun(Toe4TendonPart3LinNorm, Toe4TendonPart3LinNorm, 1.0);
    AnyVec3 Toe4TendonPart3UnityVec = Toe4TendonPart3Lin.Pos/Toe4TendonPart3LinNormCond;
    
    AnyVar Toe4TendonPart4LinNorm = vnorm(Toe4TendonPart4Lin.Pos);
    AnyVar Toe4TendonPart4LinNormCond = iffun(Toe4TendonPart4LinNorm, Toe4TendonPart4LinNorm, 1.0);
    AnyVec3 Toe4TendonPart4UnityVec = Toe4TendonPart4Lin.Pos/Toe4TendonPart4LinNormCond;
    
    
    //This calculation of the resultant direction asumes that the force of each tendon is equal
    AnyVar TendonResultantNorm = vnorm(Toe4TendonPart1UnityVec + Toe4TendonPart2UnityVec + Toe4TendonPart3UnityVec + Toe4TendonPart4UnityVec);
    AnyVar TendonResultantNormCond = iffun(TendonResultantNorm, TendonResultantNorm, 1.0);
    AnyVec3 TendonResultantUnityVec = (Toe4TendonPart1UnityVec + Toe4TendonPart2UnityVec + Toe4TendonPart3UnityVec + Toe4TendonPart4UnityVec)/TendonResultantNormCond;
    
    
    AnyVar SinPart1 = vnorm(cross(TendonResultantUnityVec, Toe4TendonPart1UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart1 = asin(SinPart1);
    
    AnyVar SinPart2 = vnorm(cross(TendonResultantUnityVec, Toe4TendonPart2UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart2 = asin(SinPart2);
    
    AnyVar SinPart3 = vnorm(cross(TendonResultantUnityVec, Toe4TendonPart3UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart3 = asin(SinPart3);
    
    AnyVar SinPart4 = vnorm(cross(TendonResultantUnityVec, Toe4TendonPart4UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart4 = asin(SinPart4);
    
    
    
    
    AnyMuscleActivityConstraint ExtensorDigitorumLongusToe4TendonLink = 
    {
      AnyMuscle &muscle0 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart1;
      AnyMuscle &muscle1 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart2;
      AnyMuscle &muscle2 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart3;
      AnyMuscle &muscle3 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart4;
      AnyMuscle &muscle4 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4Tendon;
      //   AnyMuscle &muscle5 = ..ExtensorDigitoriumBrevis4;
      nCon = 1;
      Coef = {{-muscle0.MusMdl.F0*abs(cos(.AnglePart1)),
          -muscle1.MusMdl.F0*abs(cos(.AnglePart2)),
          -muscle2.MusMdl.F0*abs(cos(.AnglePart3)),
          -muscle3.MusMdl.F0*abs(cos(.AnglePart4)),
          muscle4.MusMdl.F0
          //   muscle5.MusMdl.F0
        }};
      Const = {0};
    };
    
    
    //**Check, if it works ok the two norms will be equal.**
    AnyForceMomentMeasure Check1 = 
    {
      AnyMuscle &muscle4 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4Tendon;
      AnyMuscle &muscle5 = ...ExtensorDigitoriumBrevis.ExtensorDigitoriumBrevis4;
      AnyRefNode &ref2 = .....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
      AnyVar Norm = vnorm(F);
    };
    
    AnyForceMomentMeasure Check2 = 
    {
      AnyMuscle &muscle0 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart1;
      AnyMuscle &muscle1 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart2;
      AnyMuscle &muscle2 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart3;
      AnyMuscle &muscle3 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart4;
      AnyRefNode &ref2 = .....Seg.Foot.Metatarsal4.ExtensorDigitorumLongusViaNode12;
      AnyVar Norm = vnorm(F);
    };
    
  };
  
  
  AnyMuscleActivityConstraint ExtensorDigitorumLongusToe4TendonLink2 = 
  {
    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart3;
    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart4;
    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart1;
    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe4TendonPart2;
    nCon = 3;
    Coef = {{-1,1,0,0},{-1,0,1,0},{-1,0,0,1}};
    Const = {0,0,0};
  };
  
  
  AnyFolder ExtensorDigitorumLongusToe5TendonLink = {
    
    AnyKinLinear Toe5TendonPart1Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange5.ExtensorDigitorumLongusViaNode16;
    };
    
    AnyKinLinear Toe5TendonPart2Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange5.ExtensorDigitorumLongusViaNode16;
    };
    
    AnyKinLinear Toe5TendonPart3Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange5.ABDM_Ins;
    };
    
    AnyKinLinear Toe5TendonPart4Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange5.PI3_Ins;
    };
    
    
    AnyVar Toe5TendonPart1LinNorm = vnorm(Toe5TendonPart1Lin.Pos);
    AnyVar Toe5TendonPart1LinNormCond = iffun(Toe5TendonPart1LinNorm, Toe5TendonPart1LinNorm, 1.0);
    AnyVec3 Toe5TendonPart1UnityVec = Toe5TendonPart1Lin.Pos/Toe5TendonPart1LinNormCond;
    
    AnyVar Toe5TendonPart2LinNorm = vnorm(Toe5TendonPart2Lin.Pos);
    AnyVar Toe5TendonPart2LinNormCond = iffun(Toe5TendonPart2LinNorm, Toe5TendonPart2LinNorm, 1.0);
    AnyVec3 Toe5TendonPart2UnityVec = Toe5TendonPart2Lin.Pos/Toe5TendonPart2LinNormCond;
    
    AnyVar Toe5TendonPart3LinNorm = vnorm(Toe5TendonPart3Lin.Pos);
    AnyVar Toe5TendonPart3LinNormCond = iffun(Toe5TendonPart3LinNorm, Toe5TendonPart3LinNorm, 1.0);
    AnyVec3 Toe5TendonPart3UnityVec = Toe5TendonPart3Lin.Pos/Toe5TendonPart3LinNormCond;
    
    AnyVar Toe5TendonPart4LinNorm = vnorm(Toe5TendonPart4Lin.Pos);
    AnyVar Toe5TendonPart4LinNormCond = iffun(Toe5TendonPart4LinNorm, Toe5TendonPart4LinNorm, 1.0);
    AnyVec3 Toe5TendonPart4UnityVec = Toe5TendonPart4Lin.Pos/Toe5TendonPart4LinNormCond;
    
    
    //This calculation of the resultant direction asumes that the force of each tendon is equal
    AnyVar TendonResultantNorm = vnorm(Toe5TendonPart1UnityVec + Toe5TendonPart2UnityVec + Toe5TendonPart3UnityVec + Toe5TendonPart4UnityVec);
    AnyVar TendonResultantNormCond = iffun(TendonResultantNorm, TendonResultantNorm, 1.0);
    AnyVec3 TendonResultantUnityVec = (Toe5TendonPart1UnityVec + Toe5TendonPart2UnityVec + Toe5TendonPart3UnityVec + Toe5TendonPart4UnityVec)/TendonResultantNormCond;
    
    
    AnyVar SinPart1 = vnorm(cross(TendonResultantUnityVec, Toe5TendonPart1UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart1 = asin(SinPart1);
    
    AnyVar SinPart2 = vnorm(cross(TendonResultantUnityVec, Toe5TendonPart2UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart2 = asin(SinPart2);
    
    AnyVar SinPart3 = vnorm(cross(TendonResultantUnityVec, Toe5TendonPart3UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart3 = asin(SinPart3);
    
    AnyVar SinPart4 = vnorm(cross(TendonResultantUnityVec, Toe5TendonPart4UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart4 = asin(SinPart4);
    
    
    AnyMuscleActivityConstraint ExtensorDigitorumLongusToe5TendonLink = 
    {
      AnyMuscle &muscle0 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart1;
      AnyMuscle &muscle1 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart2;
      AnyMuscle &muscle2 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart3;
      AnyMuscle &muscle3 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart4;
      AnyMuscle &muscle4 = ...ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5Tendon;
      nCon = 1;
      Coef = {{-muscle0.MusMdl.F0*abs(cos(.AnglePart1)),
          -muscle1.MusMdl.F0*abs(cos(.AnglePart2)),
          -muscle2.MusMdl.F0*abs(cos(.AnglePart3)),
          -muscle3.MusMdl.F0*abs(cos(.AnglePart4)),
          muscle4.MusMdl.F0
        }};
      Const = {0};
    };
    
    //**Check, if it works ok the two norms will be equal.**
    //  AnyForceMomentMeasure Check1 = 
    //  {
    //    AnyMuscle &muscle4 = ..ExtensorDigitorumLongusToe5Tendon;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    //    AnyVar Norm = vnorm(F);
    //  };
    //  
    //  AnyForceMomentMeasure Check2 = 
    //  {
    //    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToe5TendonPart1;
    //    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToe5TendonPart2;
    //    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToe5TendonPart3;
    //    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToe5TendonPart4;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal5.ExtensorDigitorumLongusViaNode15;
    //    AnyVar Norm = vnorm(F);
    //  };
    
  };
  
  
  
  AnyMuscleActivityConstraint ExtensorDigitorumLongusToe5TendonLink2 = 
  {
    AnyMuscle &muscle0 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart3;
    AnyMuscle &muscle1 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart4;
    AnyMuscle &muscle2 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart1;
    AnyMuscle &muscle3 = ..ExtensorDigitorumLongusToeTendon.ExtensorDigitorumLongusToe5TendonPart2;
    nCon = 3;
    Coef = {{-1,1,0,0},{-1,0,1,0},{-1,0,0,1}};
    Const = {0,0,0};
  };
  
};

MuscleGroup ExtensorHallucisLongusTendon() = {
  AnyMuscleViaPoint ExtensorHallucisLongusTendonPart1 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.ProximalPhalange1.ExtensorHallucisLongusViaNode10;
    AnyRefNode &Ins = ....Seg.Foot.DistalPhalange1.ExtensorHallucisLongus1Node;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorHallucisLongusTendonPart2 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange1.ADHT_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint ExtensorHallucisLongusTendonPart3 = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
    AnyRefNode &Ins = ....Seg.Foot.ProximalPhalange1.ABDH_Ins;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
};

AnyFolder ExtensorHallucisTendonActivityConstraints = {
  
  AnyFolder ExtensorHallucisLongusMuscleTendonLink = {
    
    AnyKinLinear Toe1TendonPart1Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange1.ExtensorHallucisLongusViaNode10;
    };
    
    AnyKinLinear Toe1TendonPart2Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange1.ADHT_Ins;
    };
    
    AnyKinLinear Toe1TendonPart3Lin = 
    {
      AnyRefNode &ref1 = .....Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
      AnyRefNode &ref2 = .....Seg.Foot.ProximalPhalange1.ABDH_Ins;
    };
    
    
    AnyVar Toe1TendonPart1LinNorm = vnorm(Toe1TendonPart1Lin.Pos);
    AnyVar Toe1TendonPart1LinNormCond = iffun(Toe1TendonPart1LinNorm, Toe1TendonPart1LinNorm, 1.0);
    AnyVec3 Toe1TendonPart1UnityVec = Toe1TendonPart1Lin.Pos/Toe1TendonPart1LinNormCond;
    
    AnyVar Toe1TendonPart2LinNorm = vnorm(Toe1TendonPart2Lin.Pos);
    AnyVar Toe1TendonPart2LinNormCond = iffun(Toe1TendonPart2LinNorm, Toe1TendonPart2LinNorm, 1.0);
    AnyVec3 Toe1TendonPart2UnityVec = Toe1TendonPart2Lin.Pos/Toe1TendonPart2LinNormCond;
    
    AnyVar Toe1TendonPart3LinNorm = vnorm(Toe1TendonPart3Lin.Pos);
    AnyVar Toe1TendonPart3LinNormCond = iffun(Toe1TendonPart3LinNorm, Toe1TendonPart3LinNorm, 1.0);
    AnyVec3 Toe1TendonPart3UnityVec = Toe1TendonPart3Lin.Pos/Toe1TendonPart3LinNormCond;
    
    
    //This calculation of the resultant direction asumes that the force of each tendon is equal
    AnyVar TendonResultantNorm = vnorm(Toe1TendonPart1UnityVec + Toe1TendonPart2UnityVec + Toe1TendonPart3UnityVec);
    AnyVar TendonResultantNormCond = iffun(TendonResultantNorm, TendonResultantNorm, 1.0);
    AnyVec3 TendonResultantUnityVec = (Toe1TendonPart1UnityVec + Toe1TendonPart2UnityVec + Toe1TendonPart3UnityVec)/TendonResultantNormCond;
    
    
    AnyVar SinPart1 = vnorm(cross(TendonResultantUnityVec, Toe1TendonPart1UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart1 = asin(SinPart1);
    
    AnyVar SinPart2 = vnorm(cross(TendonResultantUnityVec, Toe1TendonPart2UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart2 = asin(SinPart2);
    
    AnyVar SinPart3 = vnorm(cross(TendonResultantUnityVec, Toe1TendonPart3UnityVec)); //This is equal to the sinus of the angle between the two vectors because there are unity vectors
    AnyVar AnglePart3 = asin(SinPart3);
    
    
    AnyMuscleActivityConstraint ExtensorHallucisLongusMuscleTendonLink = 
    {
      AnyMuscle &muscle0 = ...ExtensorHallucisLongusTendon.ExtensorHallucisLongusTendonPart1;
      AnyMuscle &muscle1 = ...ExtensorHallucisLongusTendon.ExtensorHallucisLongusTendonPart2;
      AnyMuscle &muscle2 = ...ExtensorHallucisLongusTendon.ExtensorHallucisLongusTendonPart3;
      AnyMuscle &muscle3 = ....ExtensorHallucisLongus.ExtensorHallucisLongus1;
      AnyMuscle &muscle4 = ....ExtensorHallucisLongus.ExtensorHallucisLongus2;
      AnyMuscle &muscle5 = ....ExtensorHallucisLongus.ExtensorHallucisLongus3;
      nCon = 1;
      Coef = {{-muscle0.MusMdl.F0*abs(cos(.AnglePart1)),
          -muscle1.MusMdl.F0*abs(cos(.AnglePart2)),
          -muscle2.MusMdl.F0*abs(cos(.AnglePart3)),
          muscle3.MusMdl.F0,
          muscle4.MusMdl.F0,
          muscle5.MusMdl.F0
        }};
      Const = {0};
    };
    
    //**Check, if it works ok the two norms will be equal.**
    //  AnyForceMomentMeasure Check1 = 
    //  {
    //    AnyMuscle &muscle3 = ..ExtensorHallucisLongus1;
    //    AnyMuscle &muscle4 = ..ExtensorHallucisLongus2;
    //    AnyMuscle &muscle5 = ..ExtensorHallucisLongus3;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
    //    AnyVar Norm = vnorm(F);
    //  };
    //  
    //  AnyForceMomentMeasure Check2 = 
    //  {
    //    AnyMuscle &muscle0 = ..ExtensorHallucisLongusTendonPart1;
    //    AnyMuscle &muscle1 = ..ExtensorHallucisLongusTendonPart2;
    //    AnyMuscle &muscle2 = ..ExtensorHallucisLongusTendonPart3;
    //    AnyRefNode &ref2 = ...Seg.Foot.Metatarsal1.ExtensorHallucisLongusViaNode9;
    //    AnyVar Norm = vnorm(F);
    //  };
    
  };
  
  
  
  AnyMuscleActivityConstraint ExtensorHallucisLongusInterTendonLink = 
  {
    AnyMuscle &muscle0 = ..ExtensorHallucisLongusTendon.ExtensorHallucisLongusTendonPart2;
    AnyMuscle &muscle1 = ..ExtensorHallucisLongusTendon.ExtensorHallucisLongusTendonPart3;
    AnyMuscle &muscle2 = ..ExtensorHallucisLongusTendon.ExtensorHallucisLongusTendonPart1;
    nCon = 2;
    Coef = {{-1,1,0},{-1,0,1}};
    Const = {0,0};
  };
  
};


#if BM_FOOT_MODEL == _FOOT_MODEL_DETAILED_GM_

MuscleGroup TibialisPosteriorTendon() = {
  AnyMuscleViaPoint TibialisPosteriorNavicularTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    AnyRefNode &Ins = ....Seg.Foot.Navicular.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorMedCuneiTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.MedialCuneiform.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorIntCuneiTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.IntermediateCuneiform.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorLatCuneiTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.LateralCuneiform.TibialisPosteriorNode;
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorCuboidTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.Cuboid.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorMt2Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.Metatarsal2.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorMt3Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.Metatarsal3.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"   
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  AnyMuscleViaPoint TibialisPosteriorMt4Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via9 = ....Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
    AnyRefNode &Via10 = ....Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
    //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
    AnyRefNode &Ins = ....Seg.Foot.Metatarsal4.TibialisPosteriorNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {    #include "MusLigamentDrawSettings.any"   };
  };
  
  //To be added if usefull (present 64%)
  //AnyMuscleViaPoint TibialisPosteriorMt5Tendon = {
  //  AnyMuscleModel MusMdl = {F0 = 2000;};
  //  AnyRefNode &Via9 = ..Seg.Foot.Calcaneus.TibialisPosteriorMedialisViaNode9;
  //  AnyRefNode &Via10 = ..Seg.Foot.Calcaneus.TibialisPosteriorViaNode10;
  //  AnyRefNode &Via11 = ..Seg.Foot.Navicular.TibialisPosteriorViaNode11;
  //  AnyRefNode &Ins = ..Seg.Foot.Metatarsal5.TibialisPosteriorNode;
  //      #include "MuscleForceDrawing.any"      AnyDrawMuscle DrwMus = {
  //    #include "MusLigamentDrawSettings.any" 
  //  };
  //};
  
};


AnyFolder TibialisPosteriorTendonActivityConstraints = {
  
  AnyMuscleActivityConstraint TibialisPosteriorMuscleTendonLink1 = 
  {
    AnyMuscle &muscle0 = ..TibialisPosteriorTendon.TibialisPosteriorNavicularTendon;
    AnyMuscle &muscle1 = ..TibialisPosteriorTendon.TibialisPosteriorMedCuneiTendon;
    AnyMuscle &muscle2 = ..TibialisPosteriorTendon.TibialisPosteriorIntCuneiTendon;
    AnyMuscle &muscle3 = ..TibialisPosteriorTendon.TibialisPosteriorLatCuneiTendon;
    AnyMuscle &muscle4 = ..TibialisPosteriorTendon.TibialisPosteriorCuboidTendon;
    AnyMuscle &muscle5 = ..TibialisPosteriorTendon.TibialisPosteriorMt2Tendon;
    AnyMuscle &muscle6 = ..TibialisPosteriorTendon.TibialisPosteriorMt3Tendon;
    AnyMuscle &muscle7 = ..TibialisPosteriorTendon.TibialisPosteriorMt4Tendon;
    AnyMuscle &muscle8 = ...TibialisPosteriorLateralis.TibialisPosteriorLateralis1;
    AnyMuscle &muscle9 = ...TibialisPosteriorLateralis.TibialisPosteriorLateralis2;
    AnyMuscle &muscle10 = ...TibialisPosteriorLateralis.TibialisPosteriorLateralis3;
    AnyMuscle &muscle11 = ...TibialisPosteriorMedialis.TibialisPosteriorMedialis1;
    AnyMuscle &muscle12 = ...TibialisPosteriorMedialis.TibialisPosteriorMedialis2;
    AnyMuscle &muscle13 = ...TibialisPosteriorMedialis.TibialisPosteriorMedialis3;
    nCon = 1;
    CType = NonNegative;
    Coef = {{-muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0,
        -muscle2.MusMdl.F0,
        -muscle3.MusMdl.F0,
        -muscle4.MusMdl.F0,
        -muscle5.MusMdl.F0,
        -muscle6.MusMdl.F0,
        -muscle7.MusMdl.F0,
        muscle8.MusMdl.F0,
        muscle9.MusMdl.F0,
        muscle10.MusMdl.F0,
        muscle11.MusMdl.F0,
        muscle12.MusMdl.F0,
        muscle13.MusMdl.F0
      }};
    Const = {0};
  };
  
  
  AnyMuscleActivityConstraint TibialisPosteriorMuscleTendonLink2 = 
  {
    AnyMuscle &muscle0 = ..TibialisPosteriorTendon.TibialisPosteriorNavicularTendon;
    AnyMuscle &muscle1 = ..TibialisPosteriorTendon.TibialisPosteriorMedCuneiTendon;
    AnyMuscle &muscle2 = ..TibialisPosteriorTendon.TibialisPosteriorIntCuneiTendon;
    AnyMuscle &muscle3 = ..TibialisPosteriorTendon.TibialisPosteriorLatCuneiTendon;
    AnyMuscle &muscle4 = ..TibialisPosteriorTendon.TibialisPosteriorCuboidTendon;
    AnyMuscle &muscle5 = ..TibialisPosteriorTendon.TibialisPosteriorMt2Tendon;
    AnyMuscle &muscle6 = ..TibialisPosteriorTendon.TibialisPosteriorMt3Tendon;
    AnyMuscle &muscle7 = ..TibialisPosteriorTendon.TibialisPosteriorMt4Tendon;
    AnyMuscle &muscle8 = ...TibialisPosteriorLateralis.TibialisPosteriorLateralis1;
    AnyMuscle &muscle9 = ...TibialisPosteriorLateralis.TibialisPosteriorLateralis2;
    AnyMuscle &muscle10 = ...TibialisPosteriorLateralis.TibialisPosteriorLateralis3;
    AnyMuscle &muscle11 = ...TibialisPosteriorMedialis.TibialisPosteriorMedialis1;
    AnyMuscle &muscle12 = ...TibialisPosteriorMedialis.TibialisPosteriorMedialis2;
    AnyMuscle &muscle13 = ...TibialisPosteriorMedialis.TibialisPosteriorMedialis3;
    nCon = 1;
    CType = NonPositive;
    Coef = {{-muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0,
        -muscle2.MusMdl.F0,
        -muscle3.MusMdl.F0,
        -muscle4.MusMdl.F0,
        -muscle5.MusMdl.F0,
        -muscle6.MusMdl.F0,
        -muscle7.MusMdl.F0,
        muscle8.MusMdl.F0,
        muscle9.MusMdl.F0,
        muscle10.MusMdl.F0,
        muscle11.MusMdl.F0,
        muscle12.MusMdl.F0,
        muscle13.MusMdl.F0
      }};
    Const = -0.2*{...TibialisPosteriorLateralis.TibialisPosteriorLateralis1.MusMdl.F0 + ...TibialisPosteriorLateralis.TibialisPosteriorLateralis2.MusMdl.F0 + ...TibialisPosteriorLateralis.TibialisPosteriorLateralis3.MusMdl.F0
      +...TibialisPosteriorMedialis.TibialisPosteriorMedialis1.MusMdl.F0 + ...TibialisPosteriorMedialis.TibialisPosteriorMedialis2.MusMdl.F0 + ...TibialisPosteriorMedialis.TibialisPosteriorMedialis3.MusMdl.F0};
  };
  
  
  AnyMuscleActivityConstraint TibialisPosteriorMuscleTendonLink3 = 
  {
    AnyMuscle &muscle0 = ..TibialisPosteriorTendon.TibialisPosteriorNavicularTendon;
    AnyMuscle &muscle1 = ..TibialisPosteriorTendon.TibialisPosteriorMedCuneiTendon;
    nCon = 1;
    CType = NonNegative;
    Coef = {{-muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0
      }};
    Const = 0.65*{...TibialisPosteriorLateralis.TibialisPosteriorLateralis1.MusMdl.F0 + ...TibialisPosteriorLateralis.TibialisPosteriorLateralis2.MusMdl.F0 + ...TibialisPosteriorLateralis.TibialisPosteriorLateralis3.MusMdl.F0
      +...TibialisPosteriorMedialis.TibialisPosteriorMedialis1.MusMdl.F0 + ...TibialisPosteriorMedialis.TibialisPosteriorMedialis2.MusMdl.F0 + ...TibialisPosteriorMedialis.TibialisPosteriorMedialis3.MusMdl.F0};
  };
  
  
  AnyMuscleActivityConstraint TibialisPosteriorMuscleTendonLink4 = 
  {
    AnyMuscle &muscle0 = ..TibialisPosteriorTendon.TibialisPosteriorIntCuneiTendon;
    AnyMuscle &muscle1 = ..TibialisPosteriorTendon.TibialisPosteriorLatCuneiTendon;
    AnyMuscle &muscle2 = ..TibialisPosteriorTendon.TibialisPosteriorCuboidTendon;
    AnyMuscle &muscle3 = ..TibialisPosteriorTendon.TibialisPosteriorMt2Tendon;
    AnyMuscle &muscle4 = ..TibialisPosteriorTendon.TibialisPosteriorMt3Tendon;
    AnyMuscle &muscle5 = ..TibialisPosteriorTendon.TibialisPosteriorMt4Tendon;
    nCon = 1;
    CType = NonNegative;
    Coef = {{-muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0,
        -muscle2.MusMdl.F0,
        -muscle3.MusMdl.F0,
        -muscle4.MusMdl.F0,
        -muscle5.MusMdl.F0
      }};
    Const = 0.15*{...TibialisPosteriorLateralis.TibialisPosteriorLateralis1.MusMdl.F0 + ...TibialisPosteriorLateralis.TibialisPosteriorLateralis2.MusMdl.F0 + ...TibialisPosteriorLateralis.TibialisPosteriorLateralis3.MusMdl.F0
      +...TibialisPosteriorMedialis.TibialisPosteriorMedialis1.MusMdl.F0 + ...TibialisPosteriorMedialis.TibialisPosteriorMedialis2.MusMdl.F0 + ...TibialisPosteriorMedialis.TibialisPosteriorMedialis3.MusMdl.F0};
  };
  
};

MuscleGroup TibialisAnteriorTendon()= {
  AnyMuscleViaPoint TibialisAnteriorMedCuneiTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via2 = ....Seg.Foot.Navicular.TibialisAnteriorViaNode2;
    AnyRefNode &Via3 = ....Seg.Foot.MedialCuneiform.TibialisAnteriorViaNode3;
    AnyRefNode &Ins = ....Seg.Foot.MedialCuneiform.TibialisAnteriorNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  AnyMuscleViaPoint TibialisAnteriorMt1Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via2 = ....Seg.Foot.Navicular.TibialisAnteriorViaNode2;
    AnyRefNode &Via3 = ....Seg.Foot.MedialCuneiform.TibialisAnteriorViaNode3;
    AnyRefNode &Ins = ....Seg.Foot.Metatarsal1.TibialisAnteriorNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
};

AnyFolder TibialisAnteriorTendonActivityConstraints = {
  AnyMuscleActivityConstraint TibialisAnteriorInterTendonLink = 
  {
    AnyMuscle &muscle0 = ..TibialisAnteriorTendon.TibialisAnteriorMedCuneiTendon;
    AnyMuscle &muscle1 = ..TibialisAnteriorTendon.TibialisAnteriorMt1Tendon;
    nCon = 1;
    Coef = {{-1,1}};
    Const = {0};
  };
  
  
  
  AnyMuscleActivityConstraint TibialisAnteriorMuscleTendonLink = 
  {
    AnyMuscle &muscle0 = ..TibialisAnteriorTendon.TibialisAnteriorMedCuneiTendon;
    AnyMuscle &muscle1 = ..TibialisAnteriorTendon.TibialisAnteriorMt1Tendon;
    AnyMuscle &muscle2 = ...TibialisAnterior.TibialisAnterior1;
    AnyMuscle &muscle3 = ...TibialisAnterior.TibialisAnterior2;
    AnyMuscle &muscle4 = ...TibialisAnterior.TibialisAnterior3;
    nCon = 1;
    Coef = {{
        -muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0,
        muscle2.MusMdl.F0,
        muscle3.MusMdl.F0,
        muscle4.MusMdl.F0
      }};
    Const = {0};
  };
};

MuscleGroup PeroneusLongusTendon() = {
  AnyMuscleViaPoint PeroneusLongusMedCuneiTendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via2 = ....Seg.Foot.Cuboid.PeroneusLongusViaNode6;
    AnyRefNode &Via3 = ....Seg.Foot.Cuboid.PeroneusLongusViaNode7;
    AnyRefNode &Ins = ....Seg.Foot.MedialCuneiform.PeroneusLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
  
  
  AnyMuscleViaPoint PeroneusLongusMt1Tendon = {
    AnyMuscleModel MusMdl = {F0 = 2000;};
    AnyRefNode &Via2 = ....Seg.Foot.Cuboid.PeroneusLongusViaNode6;
    AnyRefNode &Via3 = ....Seg.Foot.Cuboid.PeroneusLongusViaNode7;
    AnyRefNode &Ins = ....Seg.Foot.Metatarsal1.PeroneusLongusNode;
    #include "MuscleForceDrawing.any"      
    AnyDrawMuscle DrwMus = {
      #include "MusLigamentDrawSettings.any" 
    };
  };
};

AnyFolder PeroneusLongusTendonActivityConstraints = {
  AnyMuscleActivityConstraint PeroneusLongusInterTendonLink = 
  {
    AnyMuscle &muscle0 = ..PeroneusLongusTendon.PeroneusLongusMedCuneiTendon;
    AnyMuscle &muscle1 = ..PeroneusLongusTendon.PeroneusLongusMt1Tendon;
    nCon = 1;
    Coef = {{-1,1}};
    Const = {0};
  };
  
  
  AnyMuscleActivityConstraint PeroneusLongusMuscleTendonLink = 
  {
    AnyMuscle &muscle0 = ..PeroneusLongusTendon.PeroneusLongusMedCuneiTendon;
    AnyMuscle &muscle1 = ..PeroneusLongusTendon.PeroneusLongusMt1Tendon;
    AnyMuscle &muscle2 = ...PeroneusLongus.PeroneusLongus1;
    AnyMuscle &muscle3 = ...PeroneusLongus.PeroneusLongus2;
    AnyMuscle &muscle4 = ...PeroneusLongus.PeroneusLongus3;
    nCon = 1;
    Coef = {{-muscle0.MusMdl.F0,
        -muscle1.MusMdl.F0,
        muscle2.MusMdl.F0,
        muscle3.MusMdl.F0,
        muscle4.MusMdl.F0
      }};
    Const = {0};
  };
};

//AnyMuscleViaPoint PeroneusTertius1 = {
//  AnyMuscleModel &MusMdl = ..MuscleModels.PeroneusTertius1Par;
//  AnyRefNode &Org = ..Seg.Shank.PeroneusTertius1Node;
//  AnyRefNode &Via1 = ..Seg.Shank.PeroneusTertiusViaNode1;
//  AnyRefNode &Via2 = ..Seg.Shank.PeroneusTertiusViaNode2;
//  AnyRefNode &Via3 = ..Seg.Foot.Calcaneus.PeroneusTertiusViaNode3;
////  AnyRefNode &Via3 = ..Seg.Foot.Cuboid.PeroneusTertiusViaNode3;
//  AnyRefNode &Ins = ..Seg.Foot.Metatarsal5.PeroneusTertius1Node;
//    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/DrawSettings/MusDrawSettings.any"
//  };
//};
//
//AnyMuscleViaPoint PeroneusTertius2 = {
//  AnyMuscleModel &MusMdl = ..MuscleModels.PeroneusTertius2Par;
//  AnyRefNode &Org = ..Seg.Shank.PeroneusTertius2Node;
//  AnyRefNode &Via1 = ..Seg.Shank.PeroneusTertiusViaNode1;
//  AnyRefNode &Via2 = ..Seg.Shank.PeroneusTertiusViaNode2;
//  AnyRefNode &Via3 = ..Seg.Foot.Calcaneus.PeroneusTertiusViaNode3;
////  AnyRefNode &Via3 = ..Seg.Foot.Cuboid.PeroneusTertiusViaNode3;
//  AnyRefNode &Ins = ..Seg.Foot.Metatarsal5.PeroneusTertius2Node;
//    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/DrawSettings/MusDrawSettings.any"
//  };
//};
//
//AnyMuscleViaPoint PeroneusTertius3 = {
//  AnyMuscleModel &MusMdl = ..MuscleModels.PeroneusTertius3Par;
//  AnyRefNode &Org = ..Seg.Shank.PeroneusTertius3Node;
//  AnyRefNode &Via1 = ..Seg.Shank.PeroneusTertiusViaNode1;
//  AnyRefNode &Via2 = ..Seg.Shank.PeroneusTertiusViaNode2;
//  AnyRefNode &Via3 = ..Seg.Foot.Calcaneus.PeroneusTertiusViaNode3;
////  AnyRefNode &Via3 = ..Seg.Foot.Cuboid.PeroneusTertiusViaNode3;
//  AnyRefNode &Ins = ..Seg.Foot.Metatarsal5.PeroneusTertius3Node;
//    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/DrawSettings/MusDrawSettings.any"
//  };
//};

#endif

//***********
//Mus digit 1
//***********

MuscleGroup AbductorHallucis() = {
  AnyMuscleViaPoint AbductorHallucis1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AbductorHallucis;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.ABDH_Org;
    AnyRefFrame &Via = ....Seg.Foot.Navicular.ABDH_Via; //Navi
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal1.ABDH_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ABDH_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


MuscleGroup FlexorHallucisBrevisLateralis() = {
  AnyMuscleViaPoint FlexorHallucisBrevisLateralis_1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorHallucisBrevisLateralis_1;
    AnyRefFrame &Org = ....Seg.Foot.Cuboid.FHBL_Org;  //sarrafian et al "anatomy of the foot and ankle" pp.267
    
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.FHBL_Via; //MT1
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal1.FHBL_Via2; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.FHBL_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint FlexorHallucisBrevisLateralis_2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorHallucisBrevisLateralis_2;
    AnyRefFrame &Org = ....Seg.Foot.LateralCuneiform.FHBL_Org;  //sarrafian et al "anatomy of the foot and ankle" pp.267
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.FHBL_Via; //MT1
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal1.FHBL_Via2; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.FHBL_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


MuscleGroup FlexorHallucisBrevisMedialis() = {
  AnyMuscleViaPoint FlexorHallucisBrevisMedialis1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorHallucisBrevisMedialis;
    //AnyRefFrame &Org = ....Seg.Foot.Navicular.FHBM_Org;  // Navi (or cuboid?)
    AnyRefFrame &Org = ....Seg.Foot.MedialCuneiform.FHBM_Org;  // Navi (or cuboid?)
    
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.FHBM_Via; //MT1
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal1.FHBM_Via2; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.FHBM_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


MuscleGroup AdductorHallucisOblique() = {
  AnyMuscleViaPoint AdductorHallucisOblique1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisOblique1;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal2.ADHO_Org1;  // base of MT2, MT3, MT4 according to Takamitsu
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHO_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHO_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AdductorHallucisOblique2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisOblique2;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal3.ADHO_Org2;  // base of MT2, MT3, MT4 according to Takamitsu
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHO_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHO_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AdductorHallucisOblique3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisOblique3;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal4.ADHO_Org3;  // base of MT2, MT3, MT4 according to Takamitsu
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHO_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHO_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AdductorHallucisOblique4 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisOblique4;
    AnyRefFrame &Org = ....Seg.Foot.Cuboid.ADHO_Org4;  // base of MT2, MT3, MT4 according to Takamitsu    sarrafian adds cuboid and cuneiforms
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHO_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHO_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AdductorHallucisOblique5 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisOblique5;
    AnyRefFrame &Org = ....Seg.Foot.LateralCuneiform.ADHO_Org5; // base of MT2, MT3, MT4 according to Takamitsu    sarrafian adds cuboid and cuneiforms
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHO_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHO_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


MuscleGroup AdductorHallucisTransverse() = {
  AnyMuscleViaPoint AdductorHallucisTransverse1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisTransverse1;
    AnyRefFrame &Org1 = ....Seg.Foot.Metatarsal3.ADHT_Org1;  // MT3
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHT_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHT_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AdductorHallucisTransverse2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisTransverse2;
    AnyRefFrame &Org2 = ....Seg.Foot.Metatarsal4.ADHT_Org2;  // MT4
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHT_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHT_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  // Should be added according to : 
  //Anatomical study of human adductor hallucis muscle with respect to its origin and insertion. Takamitsu Arakawa, 2003
  
  AnyMuscleViaPoint AdductorHallucisTransverse3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AdductorHallucisTransverse3;
    AnyRefFrame &Org2 = ....Seg.Foot.Metatarsal5.ADHT_Org3;  // MT5
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal1.ADHT_Via; //MT1
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange1.ADHT_Ins; // proxi1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


MuscleGroup ExtensorHallucisBrevis() = {
  // insertion in proximal phalanx
  AnyMuscleViaPoint ExtensorHallucisBrevis1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.ExtensorHallucisBrevis;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EHB_Org;  // calcaneus
    AnyRefFrame &Via1 = ....Seg.Foot.IntermediateCuneiform.EHB_Via1; //intermediate cunei
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal1.EHB_Via2; //MT1
    AnyRefFrame &Ins1 = ....Seg.Foot.Metatarsal1.EHB_Ins1; // MT1
    AnyRefFrame &Ins2 = ....Seg.Foot.ProximalPhalange1.EHB_Ins2; // proxi 1
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


//*********************************
//DI, origins are strange, reviewed
//*********************************
MuscleGroup DorsalInterosseous() = {
  AnyMuscleViaPoint DorsalInterosseous1Part1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous1Part1 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal2.DI1_Org1;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange2.DI1_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint DorsalInterosseous1Part2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous1Part2 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal1.DI1_Org2;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange2.DI1_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint DorsalInterosseous2Part1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous2Part1 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal2.DI2_Org1;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange2.DI2_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint DorsalInterosseous2Part2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous2Part2 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal3.DI2_Org2;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange2.DI2_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint DorsalInterosseous3Part1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous3Part1 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal3.DI3_Org1;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange3.DI3_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint DorsalInterosseous3Part2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous3Part2 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal4.DI3_Org2;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange3.DI3_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint DorsalInterosseous4Part1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous4Part1 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal4.DI4_Org1;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange4.DI4_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  //Not present in yamaguchi data, but should be there
  AnyMuscleViaPoint DorsalInterosseous4Part2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.DorsalInterosseous4Part2 ;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal5.DI4_Org2;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange4.DI4_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


// insertion in tendon of longus, should be same path as longus until distal phalanx
//*************************
//ExtensorDigitoriumBrevis
//*************************
MuscleGroup ExtensorDigitoriumBrevis() = {
  //AnyMuscleViaPoint ExtensorDigitoriumBrevis2 = 
  //{
  //  AnyMuscleModel &MusMdl = ..MuscleModels.ExtensorDigitoriumBrevis2;
  //  AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EDB_Org; // calca
  //  AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal3.EDB2_Via1; //MT3
  //  AnyRefFrame &Via2Bis = ....Seg.Foot.Metatarsal2.EDB2_Via2Bis; //MT2
  //  AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal2.EDB2_Via2; //MT2
  ////  AnyRefFrame &Via3 = ....Seg.Foot.ProximalPhalange2.EDB2_Via3; //proxi2
  ////  AnyRefFrame &Via4 = ....Seg.Foot.MiddlePhalange2.EDB2_Via4; //midle 2 tendon
  ////  AnyRefFrame &Ins = ....Seg.Foot.DistalPhalange2.EDB2_Ins; //distal phalanx2
  //  AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
  //  #include "MuscleForceDrawing.any"
  //};
  AnyMuscleViaPoint ExtensorDigitoriumBrevis2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.ExtensorDigitoriumBrevis2;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EDB_Org; // calca
    AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal3.EDB2_Via1; //MT3
    AnyRefFrame &Via2Bis = ....Seg.Foot.Metatarsal2.EDB2_Via2Bis; //MT2
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal2.EDB2_Via2; //MT2
    AnyRefFrame &ins = ....Seg.Foot.MiddlePhalange2.ExtensorDigitorumLongusNode;
    //AnyRefFrame &Via3 = ....Seg.Foot.ProximalPhalange2.EDB2_Via3; //proxi2
    //AnyRefFrame &Via4 = ....Seg.Foot.MiddlePhalange2.EDB2_Via4; //midle 2 tendon
    //  AnyRefFrame &Ins = ....Seg.Foot.DistalPhalange2.EDB2_Ins; //distal phalanx2
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  //AnyMuscleViaPoint ExtensorDigitoriumBrevis3 = 
  //{
  //  AnyMuscleModel &MusMdl = ....MuscleModels.ExtensorDigitoriumBrevis3;
  //  AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EDB_Org; // calca
  //  AnyRefFrame &Via0 = ....Seg.Foot.Metatarsal3.EDB3_Via0; //MT3
  //  AnyRefFrame &Via1Bis = ....Seg.Foot.Metatarsal3.EDB3_Via1Bis; //MT3
  //  AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal3.EDB3_Via1; //MT3
  ////  AnyRefFrame &Via2 = ....Seg.Foot.ProximalPhalange3.EDB3_Via2; //proxi3
  ////  AnyRefFrame &Via3 = ....Seg.Foot.MiddlePhalange3.EDB3_Via3; //middle 3 tendon
  ////  AnyRefFrame &Ins = ....Seg.Foot.DistalPhalange3.EDB3_Ins; //distal phalanx3
  //  AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
  //   #include "MuscleForceDrawing.any"
  //
  //};
  AnyMuscleViaPoint ExtensorDigitoriumBrevis3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.ExtensorDigitoriumBrevis3;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EDB_Org; // calca
    AnyRefFrame &Via0 = ....Seg.Foot.Metatarsal3.EDB3_Via0; //MT3
    AnyRefFrame &Via1Bis = ....Seg.Foot.Metatarsal3.EDB3_Via1Bis; //MT3
    AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal3.EDB3_Via1; //MT3
    AnyRefFrame &ins = ....Seg.Foot.MiddlePhalange3.ExtensorDigitorumLongusNode;
    //  AnyRefFrame &Via2 = ....Seg.Foot.ProximalPhalange3.EDB3_Via2; //proxi3
    // AnyRefFrame &Via3 = ....Seg.Foot.MiddlePhalange3.EDB3_Via3; //middle 3 tendon
    //  AnyRefFrame &Ins = ....Seg.Foot.DistalPhalange3.EDB3_Ins; //distal phalanx3
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  //AnyMuscleViaPoint ExtensorDigitoriumBrevis4 = 
  //{
  //  AnyMuscleModel &MusMdl = ..MuscleModels.ExtensorDigitoriumBrevis4;
  //  AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EDB_Org; // calca
  //  AnyRefFrame &Via1Bis = ....Seg.Foot.Metatarsal4.EDB4_Via1Bis; //MT4
  //  AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal4.EDB4_Via1; //MT4
  ////  AnyRefFrame &Via2 = ....Seg.Foot.ProximalPhalange4.EDB4_Via2; //proxi4
  ////  AnyRefFrame &Via3 = ....Seg.Foot.MiddlePhalange4.EDB4_Via3; //middle 4 tendon
  ////  AnyRefFrame &Ins = ....Seg.Foot.DistalPhalange4.EDB4_Ins; //distal phalanx4
  //  AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
  // #include "MuscleForceDrawing.any"
  //};
  AnyMuscleViaPoint ExtensorDigitoriumBrevis4 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.ExtensorDigitoriumBrevis4;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.EDB_Org; // calca
    AnyRefFrame &Via1Bis = ....Seg.Foot.Metatarsal4.EDB4_Via1Bis; //MT4
    AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal4.EDB4_Via1; //MT4
    AnyRefFrame &ins = ....Seg.Foot.MiddlePhalange4.ExtensorDigitorumLongusNode;
    // AnyRefFrame &Via2 = ....Seg.Foot.ProximalPhalange4.EDB4_Via2; //proxi4
    // AnyRefFrame &Via3 = ....Seg.Foot.MiddlePhalange4.EDB4_Via3; //middle 4 tendon
    //  AnyRefFrame &Ins = ....Seg.Foot.DistalPhalange4.EDB4_Ins; //distal phalanx4
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


//*****************
//PI
//*****************
MuscleGroup PlantarInterosseous() = {
  AnyMuscleViaPoint PlantarInterosseous1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous1;
    //  AnyRefFrame &Org = ....Seg.Foot.Metatarsal3.PI1_Org;
    AnyRefFrame &Org = ....Seg.Foot.LateralCuneiform.PI1_Org;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange3.PI1_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint PlantarInterosseous2Part1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous2Part1;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal4.PI2_Org1;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange4.PI2_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint PlantarInterosseous2Part2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous2Part2;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal4.PI2_Org2;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange4.PI2_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint PlantarInterosseous2Part3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous2Part3;
    //  AnyRefFrame &Org = ....Seg.Foot.Metatarsal4.PI2_Org3;
    AnyRefFrame &Org = ....Seg.Foot.Cuboid.PI2_Org3;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange4.PI2_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint PlantarInterosseous3Part1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous3Part1;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal5.PI3_Org1;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.PI3_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint PlantarInterosseous3Part2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous3Part2;
    AnyRefFrame &Org = ....Seg.Foot.Cuboid.PI3_Org2;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.PI3_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint PlantarInterosseous3Part3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.PlantarInterosseous3Part3;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal5.PI3_Org3;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.PI3_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


//stops at the middle phalanx.
//**********************
//FlexorDigitorumBrevis
//**********************
MuscleGroup FlexorDigitorumBrevis() = {
  AnyMuscleViaPoint FlexorDigitorumBrevis2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorDigitorumBrevis2;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.FDB_Org; //calca
    //  AnyRefFrame &Via1 = ....Seg.Foot.Cuboid.FDB2_Via1; //cuboid
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal2.FDB2_Via2; //MT2
    AnyRefFrame &Via3 = ....Seg.Foot.ProximalPhalange2.FDB2_Via3; //proxi 2
    AnyRefFrame &Ins = ....Seg.Foot.MiddlePhalange2.FDB2_Ins; //midle p2
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint FlexorDigitorumBrevis3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorDigitorumBrevis3;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.FDB_Org;//calca
    // AnyRefFrame &Via1 = ....Seg.Foot.Cuboid.FDB3_Via1; //cuboid
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal3.FDB3_Via2; //MT3
    AnyRefFrame &Via3 = ....Seg.Foot.ProximalPhalange3.FDB3_Via3; //proxi 3
    AnyRefFrame &Ins = ....Seg.Foot.MiddlePhalange3.FDB3_Ins; //midle p3
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint FlexorDigitorumBrevis4 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorDigitorumBrevis4;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.FDB_Org;//calca
    //  AnyRefFrame &Via1 = ....Seg.Foot.Cuboid.FDB4_Via1; //cuboid
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal4.FDB4_Via2; //MT4
    AnyRefFrame &Via3 = ....Seg.Foot.ProximalPhalange4.FDB4_Via3; //proxi 4
    AnyRefFrame &Ins = ....Seg.Foot.MiddlePhalange4.FDB4_Ins; //midle p4
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint FlexorDigitorumBrevis5 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorDigitorumBrevis5;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.FDB_Org;//calca
    //  AnyRefFrame &Via1 = ....Seg.Foot.Cuboid.FDB5_Via1; //cuboid
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal5.FDB5_Via2; //MT5
    AnyRefFrame &Ins = ....Seg.Foot.MiddlePhalange5.FDB5_Ins; //Middle 5
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


//*********************************************
//QuadratusPlantar (M/L), Tendon insertion!!!!
//*********************************************
MuscleGroup QuadratusPlantarMedialis() = {
  AnyMuscleViaPoint QuadratusPlantarMedialis1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.QuadratusPlantarMedialis1;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.QPM_Org1; //calca
    AnyRefFrame &Ins = ....Seg.Foot.FDL.FDLDummySeg.QP_Ins1; //tendon
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint QuadratusPlantarMedialis2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.QuadratusPlantarMedialis2; 
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.QPM_Org2; //calca
    AnyRefFrame &Ins = ....Seg.Foot.FDL.FDLDummySeg.QP_Ins2; //tendon
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint QuadratusPlantarMedialis3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.QuadratusPlantarMedialis3; 
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.QPM_Org3; //calca
    AnyRefFrame &Ins = ....Seg.Foot.FDL.FDLDummySeg.QP_Ins3; //tendon
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


MuscleGroup QuadratusPlantarLateralis() = {
  AnyMuscleViaPoint QuadratusPlantarLateralis1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.QuadratusPlantarLateralis1; 
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.QPL_Org1; //calca
    AnyRefFrame &Ins = ....Seg.Foot.FDL.FDLDummySeg.QP_Ins1; //tendon
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint QuadratusPlantarLateralis2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.QuadratusPlantarLateralis2; 
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.QPL_Org2; //calca
    AnyRefFrame &Ins = ....Seg.Foot.FDL.FDLDummySeg.QP_Ins2; //tendon
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint QuadratusPlantarLateralis3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.QuadratusPlantarLateralis3; 
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.QPL_Org3; //calca
    AnyRefFrame &Ins = ....Seg.Foot.FDL.FDLDummySeg.QP_Ins3; //tendon
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};

//*********************************
//Lumbrical, tendon insertion!!!!! and via points are wrapping around ADHT / transverse lig ??
//*********************************
MuscleGroup Lumbrical() = {
  AnyMuscleViaPoint Lumbrical2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.Lumbrical2;
    AnyRefFrame &Org = ....Seg.Foot.FDL.FDLDummySeg.LB2_Org; //tendon
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal2.LB2_Via; //meta2
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange2.LB2_Ins; //proxi2
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint Lumbrical3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.Lumbrical3;
    AnyRefFrame &Org = ....Seg.Foot.FDL.FDLDummySeg.LB3_Org; //tendon
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal3.LB3_Via; //meta3
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange3.LB3_Ins; //proxi3
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint Lumbrical4 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.Lumbrical4;
    AnyRefFrame &Org = ....Seg.Foot.FDL.FDLDummySeg.LB4_Org; //tendon
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal4.LB4_Via; //meta4
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange4.LB4_Ins; //proxi4
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint Lumbrical5 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.Lumbrical5;
    AnyRefFrame &Org = ....Seg.Foot.FDL.FDLDummySeg.LB5_Org; //tendon
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal5.LB5_Via; //meta5
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.LB5_Ins; //proxi5
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


//*********************
//AbductorDigitiMinimi
//*********************
MuscleGroup AbductorDigitiMinimi() = {
  AnyMuscleViaPoint AbductorDigitiMinimi1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AbductorDigitiMinimi1;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.ABDM_Org1; //calca
    AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal5.ABDM_Via1; //MT5
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal5.ABDM_Via2; //MT5
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.ABDM_Ins; //proxi5
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AbductorDigitiMinimi2 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AbductorDigitiMinimi2;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.ABDM_Org2; //calca
    AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal5.ABDM_Via1; //MT5
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal5.ABDM_Via2; //MT5
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.ABDM_Ins; //proxi5
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
  
  AnyMuscleViaPoint AbductorDigitiMinimi3 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.AbductorDigitiMinimi3;
    AnyRefFrame &Org = ....Seg.Foot.Calcaneus.ABDM_Org3; //calca
    AnyRefFrame &Via1 = ....Seg.Foot.Metatarsal5.ABDM_Via1; //MT5
    AnyRefFrame &Via2 = ....Seg.Foot.Metatarsal5.ABDM_Via2; //MT5
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.ABDM_Ins; //proxi5
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};


//***************************
//FlexorDigitiMinimiBrevis, Should wrap around meta 5 ??
//****************************
MuscleGroup FlexorDigitiMinimiBrevis() = {
  AnyMuscleViaPoint FlexorDigitiMinimiBrevis1 = 
  {
    AnyMuscleModel &MusMdl = ....MuscleModels.Foot.FlexorDigitiMinimiBrevis;
    AnyRefFrame &Org = ....Seg.Foot.Metatarsal5.FDMB_Org;
    AnyRefFrame &Via = ....Seg.Foot.Metatarsal5.FDMB_Via;
    AnyRefFrame &Ins = ....Seg.Foot.ProximalPhalange5.FDMB_Ins;
    AnyDrawMuscle DrwMus = {#include "<ANYBODY_PATH_BODY>/drawSettings/MusDrawSettings.any"};
    #include "MuscleForceDrawing.any"
  };
};

