
AnyRevoluteJoint Ankle = {
  Axis = z; //flexion extension
  //Axis2  =  x; //abduction adduction
  AnyRefNode &ShankNode = ..Seg.Shank.AnkleJoint;
  AnyRefNode &FootNode  = ..Seg.Foot.Talus.AnkleJoint;
  //ShankNode ={AnyDrawRefFrame drw={RGB={0,1,0};};};
  Constraints.Reaction ={#include "DrawForceInJoint.any"};
  
};

AnyRevoluteJoint SubTalar = {
  //Axis1 = z; //flexion extension
  Axis =  z; //inversion eversion 
  AnyRefNode &TalusNode = ..Seg.Foot.Talus.SubTalarJoint;
  AnyRefNode &FootNode  = ..Seg.Foot.Calcaneus.SubTalarJoint;
  //TalusNode ={AnyDrawRefFrame drw={RGB={1,0,0};};};
  Constraints.Reaction ={#include "DrawForceInJoint.any"};
  
};  



AnyFolder Foot = {
  
  //************************************************
  //              JntMtPhal
  //************************************************
  // Flexion Extension only  
  
  AnyRevoluteJoint MtProxPh1 = 
  {
    Axis = z;
    AnyRefFrame &MT1 = ...Seg.Foot.Metatarsal1.MtPhalJoint;
    AnyRefFrame &ProxPhal1 = ...Seg.Foot.ProximalPhalange1.MtPhalJoint;
    Constraints.Reaction ={#include "DrawForceInJoint.any"};
  };
  
  
  AnyRevoluteJoint MtProxPh2 = 
  {
    Axis = z;
    AnyRefFrame &MT2 = ...Seg.Foot.Metatarsal2.MtPhalJoint;
    AnyRefFrame &ProxPhal2 = ...Seg.Foot.ProximalPhalange2.MtPhalJoint;
    Constraints.Reaction ={#include "DrawForceInJoint.any"};
  };
  
  
  AnyRevoluteJoint MtProxPh3 = 
  {
    Axis = z;
    AnyRefFrame &MT3 = ...Seg.Foot.Metatarsal3.MtPhalJoint;
    AnyRefFrame &ProxPhal3 = ...Seg.Foot.ProximalPhalange3.MtPhalJoint;
    Constraints.Reaction ={#include "DrawForceInJoint.any"};
  };
  
  
  AnyRevoluteJoint MtProxPh4 = 
  {
    Axis = z;
    AnyRefFrame &MT4 = ...Seg.Foot.Metatarsal4.MtPhalJoint;
    AnyRefFrame &ProxPhal4 = ...Seg.Foot.ProximalPhalange4.MtPhalJoint;
    Constraints.Reaction ={#include "DrawForceInJoint.any"};
  };
  
  
  AnyRevoluteJoint MtProxPh5 = 
  {
    Axis = z;
    AnyRefFrame &MT5 = ...Seg.Foot.Metatarsal5.MtPhalJoint;
    AnyRefFrame &ProxPhal5 = ...Seg.Foot.ProximalPhalange5.MtPhalJoint;
    Constraints.Reaction ={#include "DrawForceInJoint.any"};
  };
  
  AnyKinMeasureLinComb LinkMtProxPhJoints = {
    AnyKinMeasure &MtProxPh1 = .MtProxPh1;
    AnyKinMeasure &MtProxPh2 = .MtProxPh2;
    AnyKinMeasure &MtProxPh3 = .MtProxPh3;
    AnyKinMeasure &MtProxPh4 = .MtProxPh4;
    AnyKinMeasure &MtProxPh5 = .MtProxPh5;
    OutDim = 4;
    Coef = {
            {-1,1,0,0,0},
            {-1,0,1,0,0},
            {-1,0,0,1,0},
            {-1,0,0,0,1},
          };
    Const = {0,0,0,0};
  };
  
  AnyKinEqSimpleDriver LinkedMtProxPhJointsDriver = {
    AnyKinMeasure &LinkedMeasure = .LinkMtProxPhJoints;
    DriverPos = {0,0,0,0};
    DriverVel = {0,0,0,0};
  };
    
  
}; //FootJnt


