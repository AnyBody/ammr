AnyFolder Cylinder={
  
  //scaling factor to adjust size of the wrapping cylinder based on the boney landmarks
  AnyFloat ScaleFactor = (
    vnorm(...Seg.Humerus.Data.I_subscapularis_1_pos - ...Seg.Humerus.Data.I_subscapularis_5_pos) /
    vnorm(...Seg.Humerus.I_subscapularis_1.sRel - ...Seg.Humerus.I_subscapularis_5.sRel)
  );  
  
  AnySeg Cyl={
    Mass=1e-5;
    Jii={0,0,0};
    r0=..InitialPos;
    Axes0 = ..InitialAxes * ..InitialRot;

    AnyRefNode node1={
       sRel = {0, 0, -0.13} * ..ScaleFactor;

      AnySurfCylinder CylSurf={
        Length=....LengthScale*vnorm(..node2.sRel-..node1.sRel);
        Radius = 0.014 * ...ScaleFactor;
      };
    };
    AnyRefNode node2 = { 
      sRel = {0, 0, 0.07} * ..ScaleFactor; 
  };
  };

  AnyUniversalJoint ThoraxAttachement = {
    AnyRefFrame &ref1=..StartNode;
    AnyRefFrame &ref2=.Cyl.node1;
    Axis1 = x;
    Axis2 = y;
  };

  AnyKinEqSimpleDriver DirectionDriver = {
    AnyKinLinear Lin={
      AnyRefFrame &ref1=..Cyl;
      AnyRefFrame &ref2=...EndNode;
      Ref=0;
    };
    DriverPos={0,0};
    DriverVel={0,0};
    MeasureOrganizer={0,1};
  };
  
};