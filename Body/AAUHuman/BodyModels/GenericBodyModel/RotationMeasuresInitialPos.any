// This file sets the guess of the default rotation from the mannequin values 
// for the measures used by the default mannequin drivers.
// This should help improve the robustness of the solvers 


BodyModel.Interface.Trunk.PelvisRotX.rot =
{
  Pos0 ??= {
      .....Mannequin.Posture.PelvisRotZ,
      .....Mannequin.Posture.PelvisRotY,
      .....Mannequin.Posture.PelvisRotX,
  }*pi/180;
};

BodyModel.Trunk.JointsLumbar.PelvisThoraxRotMeasure = 
{
   Pos0 ??= {
      ....Mannequin.Posture.PelvisThoraxLateralBending,
      ....Mannequin.Posture.PelvisThoraxRotation,
      ....Mannequin.Posture.PelvisThoraxExtension,
  }*pi/180;
};

BodyModel.Trunk.JointsLumbar.PelvisT12RotMeasure = 
{
   Pos0 ??= {
      ....Mannequin.Posture.PelvisThoraxLateralBending,
      ....Mannequin.Posture.PelvisThoraxRotation,
      ....Mannequin.Posture.PelvisThoraxExtension,
  }*pi/180;
};


BodyModel.Trunk.JointsCervicalSpine.SkullThoraxRotMeasure = 
{
   Pos0 ??= {
      ....Mannequin.Posture.NeckLateralBending,
      ....Mannequin.Posture.NeckRotation,
      -1*....Mannequin.Posture.NeckExtension,
  }*pi/180;
};

#if BM_ARM_RIGHT

BodyModel.Interface.Right.SternoClavicularProtraction.SCRot =
{
   Pos0 ??= {
      .....Mannequin.Posture.Right.SternoClavicularProtraction,
      .....Mannequin.Posture.Right.SternoClavicularElevation,
      .....Mannequin.Posture.Right.SternoClavicularAxialRotation,
  }*pi/180;
};

BodyModel.Interface.Right.GlenohumeralFlexion.GHMeasure =
{
   Pos0 ??= {
      .....Mannequin.Posture.Right.GlenohumeralAbduction,
      .....Mannequin.Posture.Right.GlenohumeralFlexion,
      .....Mannequin.Posture.Right.GlenohumeralExternalRotation,
  }*pi/180;
};

BodyModel.Interface.Right.ElbowFlexion.Rot =
{
   Pos0 ??= {0, 0, .....Mannequin.Posture.Right.ElbowFlexion}*pi/180;
};

BodyModel.Interface.Right.ElbowPronation.PSRotProximal =
{
   Pos0 ??= {0, 0, .....Mannequin.Posture.Right.ElbowPronation}*pi/180;
};


BodyModel.Interface.Right.WristFlexion.WristJoint =
{
   Pos0 ??= { 0, .....Mannequin.Posture.Right.WristFlexion, 0 }*pi/180;
};

BodyModel.Interface.Right.WristAbduction.WristJoint =
{
   Pos0 ??= {.....Mannequin.Posture.Right.WristAbduction, 0, 0}*pi/180;
};

#endif

#if BM_ARM_LEFT

BodyModel.Interface.Left.SternoClavicularProtraction.SCRot =
{
   Pos0 ??= {
      .....Mannequin.Posture.Left.SternoClavicularProtraction,
      .....Mannequin.Posture.Left.SternoClavicularElevation,
      .....Mannequin.Posture.Left.SternoClavicularAxialRotation,
  }*pi/180;
};

BodyModel.Interface.Left.GlenohumeralFlexion.GHMeasure =
{
   Pos0 ??= {
      .....Mannequin.Posture.Left.GlenohumeralAbduction,
      .....Mannequin.Posture.Left.GlenohumeralFlexion,
      .....Mannequin.Posture.Left.GlenohumeralExternalRotation,
  }*pi/180;
};

BodyModel.Interface.Left.ElbowFlexion.Rot =
{
   Pos0 ??= {0, 0, .....Mannequin.Posture.Left.ElbowFlexion}*pi/180;
};

BodyModel.Interface.Left.ElbowPronation.PSRotProximal =
{
   Pos0 ??= {0, 0, .....Mannequin.Posture.Left.ElbowPronation}*pi/180;
};


BodyModel.Interface.Left.WristFlexion.WristJoint =
{
   Pos0 ??= { 0, .....Mannequin.Posture.Left.WristFlexion, 0 }*pi/180;
};

BodyModel.Interface.Left.WristAbduction.WristJoint =
{
   Pos0 ??= {.....Mannequin.Posture.Left.WristAbduction, 0, 0}*pi/180;
};

#endif


#if BM_LEG_RIGHT & (BM_LEG_MODEL == _LEG_MODEL_TLEM_)

BodyModel.Interface.Right.HipFlexion.HipMeasure =
{
   Pos0 ??= {
      .....Mannequin.Posture.Right.HipFlexion,
      .....Mannequin.Posture.Right.HipAbduction,
      .....Mannequin.Posture.Right.HipExternalRotation,
  }*pi/180;
};

BodyModel.Interface.Right.KneeFlexion.KneeRot =
{
   Pos0 ??= { .....Mannequin.Posture.Right.KneeFlexion, 0, 0 }*pi/180;
};

#if BM_FOOT_MODEL == _FOOT_MODEL_DEFAULT_
BodyModel.Interface.Right.AnklePlantarFlexion.RotMeasure =
{
   Pos0 ??= {-1*.....Mannequin.Posture.Right.AnklePlantarFlexion, 0, 0}*pi/180;
};

BodyModel.Interface.Right.SubTalarEversion.Ankle =
{
   Pos0 ??= {.....Mannequin.Posture.Right.SubTalarEversion, 0, 0}*pi/180;
};
#endif

#endif


#if BM_LEG_LEFT & (BM_LEG_MODEL == _LEG_MODEL_TLEM_)

BodyModel.Interface.Left.HipFlexion.HipMeasure =
{
   Pos0 ??= {
      .....Mannequin.Posture.Right.HipFlexion,
      .....Mannequin.Posture.Right.HipAbduction,
      .....Mannequin.Posture.Right.HipExternalRotation,
  }*pi/180;
};

BodyModel.Interface.Left.KneeFlexion.KneeRot =
{
   Pos0 ??= { .....Mannequin.Posture.Right.KneeFlexion, 0, 0 }*pi/180;
};

#if BM_FOOT_MODEL == _FOOT_MODEL_DEFAULT_
BodyModel.Interface.Left.AnklePlantarFlexion.RotMeasure =
{
   Pos0 ??= {-1*.....Mannequin.Posture.Right.AnklePlantarFlexion, 0, 0}*pi/180;
};

BodyModel.Interface.Left.SubTalarEversion.Ankle =
{
   Pos0 ??= {.....Mannequin.Posture.Right.SubTalarEversion, 0, 0}*pi/180;
};
#endif

#endif
