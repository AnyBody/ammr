/* 
Class templates to create either regular folder objects in AMS versions before 8.2 or new
Component/Group objects
*/
#if (ANYBODY_V1 > 8)|(ANYBODY_V1 == 8 & ANYBODY_V2 >= 2)


  // Define some variables that are useful for muscle groups
  #define MUSCLE_GRP_VARS \
    AnyVar MaxActivity = max(Obj2Num( ObjGetMember(Objects,"Activity"))); \
    AnyVar AvgActivity = mean(Obj2Num( ObjGetMember(Objects,"Activity")));


  /* 
    Template for a muscle group. By default collects all muscle objects in the folder. The
    searchString argument can specify a subset of muscles from outside the folder
  */
  #class_template MuscleGroup(__CLASS__ = AnyComponentGroup, searchString = "") {
    #if searchString == ""
      Objects = ObjSearch("*", Class);
    #else
      Objects = ObjSearch(searchString, Class);
    #endif
    Class = "AnyMuscle";
    MUSCLE_GRP_VARS
  };

#else 

  // By default all these templates create AnyFolder objects
  #class_template MuscleGroup(__CLASS__ = AnyFolder, searchString = "") {};
  
#endif
