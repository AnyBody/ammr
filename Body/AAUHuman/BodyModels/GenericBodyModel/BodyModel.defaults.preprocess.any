
#ifndef CAVITY_DISCRETIZATION
#define CAVITY_DISCRETIZATION 28
#endif

// Set BM_LEG_MODEL to OFF if both BM_LEG_RIGHT/LEFT are OFF
#ifdef BM_LEG_RIGHT
#ifdef BM_LEG_LEFT
  #if BM_LEG_RIGHT == OFF & BM_LEG_LEFT == OFF
  #ifdef BM_LEG_MODEL
      #undef BM_LEG_MODEL
    #endif
    #define BM_LEG_MODEL OFF
  #endif
#endif
#endif

// Allow for BM_LEG_MODEL to switch Legs models off completely.
#ifdef BM_LEG_MODEL
  #if BM_LEG_MODEL == OFF
    #ifndef BM_LEG_RIGHT
      #define BM_LEG_RIGHT OFF
    #endif
    #ifndef BM_LEG_LEFT
      #define BM_LEG_LEFT OFF
    #endif
  #endif
#endif

#ifndef BM_ARM_THORAX_SCAPULA_CONTACT
#ifdef BM_TRUNK_THORACIC_MODEL
#if BM_TRUNK_THORACIC_MODEL == _THORACIC_MODEL_FLEXIBLE_ | BM_TRUNK_THORACIC_MODEL == _THORACIC_MODEL_FLEXIBLE_KINEMATIC_ONLY_
#define BM_ARM_THORAX_SCAPULA_CONTACT _MULTIPLE_POINT_CONTACT_
#else
#define BM_ARM_THORAX_SCAPULA_CONTACT _ELLIPSOID_CONTACT_
#endif
#endif
#endif

#ifdef BM_TRUNK_THORACIC_MODEL
#if BM_TRUNK_THORACIC_MODEL == _THORACIC_MODEL_FLEXIBLE_ | BM_TRUNK_THORACIC_MODEL == _THORACIC_MODEL_FLEXIBLE_KINEMATIC_ONLY_
#ifdef BM_ARM_THORAX_SCAPULA_CONTACT
#if BM_ARM_THORAX_SCAPULA_CONTACT == _ELLIPSOID_CONTACT_
   AnyInt incompatible_BM_ARM_THORAX_SCAPULA_CONTACT= assert(0, strformat("\n"+
      "---------------------------------------------------------------------------------------------------------------------------\n"+
      "    `BM_ARM_THORAX_SCAPULA_CONTACT` cannot be set to _ELLIPSOID_CONTACT_, when using the detailed Thoracic model.\n"+
      "    Please set it to `_MULTIPLE_POINT_CONTACT_` or remove the `BM_ARM_THORAX_SCAPULA_CONTACT` define statement.\n"+
      "----------------------------------------------------------------------------------------------------------------------------\n"));
#endif
#endif
#endif
#endif

// Logic block to make it easier to later check if the leg model is a variant of the TLEM model
#ifdef BM_LEG_MODEL_IS_TLEM
 #undef BM_LEG_MODEL_IS_TLEM
#endif
#ifdef BM_LEG_MODEL
#if BM_LEG_MODEL != _LEG_MODEL_LEG_ & BM_LEG_MODEL != OFF
  #define BM_LEG_MODEL_IS_TLEM ON
#else
  #define BM_LEG_MODEL_IS_TLEM OFF
#endif
#else
  #define BM_LEG_MODEL_IS_TLEM ON
#endif



#ifdef BM_LEG_MODEL
#if BM_LEG_MODEL == _LEG_MODEL_TLEM1_
   AnyInt deprecated_TLEM1_model = assert(0, strformat("\n"+
      "------------------------------------------------------------------------------------------------------\n"+
      "    The Twente Lower Extremity Model v.1 (TLEM1) model was deprecated in AMMR3 and removed from AMMR4. "+
      "    \n"+
      "    Please use the TLEM 2 (which is default or set: #define BM_LEG_MODEL _LEG_MODEL_TLEM_) \n"+
      "-------------------------------------------------------------------------------------------------------"));
#endif
#endif



// // Trigger check for read-only AMMR if we think user is running
// // the AMMR version in the install directory.
// #ifpathexists "<ANYBODY_PATH_AMMR>/../AnyBody.exe"
// #if ANYBODY_PYTHON_AVAILABLE

//  #ifndef ANYBODY_DISMISS_READONLY_NOTICE

//   // use of a python function
//   AnyFunEx IsFileWriteable =
//   {
//     AnyIntVar Return = 0;
//     AnyFunExMonoPy is_file_writeable =
//     {
//      ModuleFile = "ammr-checks.py";
//      ArgList = {
//        AnyStringVar MainFile = ANYBODY_PATH_MAINFILE;
//      };
//     };
//   };

//  AnyInt MainFileIsReadOnlyNotice = notice(IsFileWriteable(ANYBODY_PATH_MAINFILE), strformat("\n"+
//   "\n------------------------------------------------------------------------------------------------------\n"+
//   "                       Note: Your Main-file appears to be read-only. \n"+
//   " \n"+
//   "  Are you running models directly from the install direcotry?\n"+
//   "  It is good practice to copy models to for example your documents folder.\n"+
//   "  This notice can be disabled with: #define ANYBODY_DISMISS_READONLY_NOTICE \n"+
//   "-------------------------------------------------------------------------------------------------------\n"));

//  #endif
// #endif
// #endif

#ifdef BM_FOOT_MODEL
#if BM_FOOT_MODEL == _FOOT_MODEL_DEFAULT_
   AnyInt deprecated_BM_FOOT_MODEL_DEFAULT = warn(0, strformat("\n"+
      "------------------------------------------------------------------------------------------------------------------------ \n"+
      "    `BM_FOOT_MODEL _FOOT_MODEL_DEFAULT_` is deprecated. \n"+
      "    Please use `BM_FOOT_MODEL _FOOT_MODEL_RIGID_GM_` instead to get the default foot model.\n"+
      "    Please use `BM_FOOT_MODEL _FOOT_MODEL_LEG_FOOT_` if you want to use the foot from the selected leg model.\n"+
      "    The system has been reset BM_FOOT_MODEL to _FOOT_MODEL_RIGID_GM_.\n"+
      "------------------------------------------------------------------------------------------------------------------------ "));
#undef BM_FOOT_MODEL
#define BM_FOOT_MODEL _FOOT_MODEL_RIGID_GM_
#endif
#endif



#ifdef BM_TRUNK_DISC_STIFNESS
#ifndef BM_TRUNK_DISC_STIFFNESS
#define BM_TRUNK_DISC_STIFFNESS BM_TRUNK_DISC_STIFNESS
#endif
   AnyInt deprecated_BM_TRUNK_DISC_STIFNESS = warn(0, strformat("\n"+
      "------------------------------------------------------------------------------------------------------------------------ \n"+
      "    `BM_TRUNK_DISC_STIFNESS` has been renamed to BM_TRUNK_DISC_STIFFNESS.\n"+
      "    Please use the corrected name instead.\n"+
      "------------------------------------------------------------------------------------------------------------------------ "));
#endif

#ifdef BM_TRUNK_LUMBAR_DISC_STIFNESS
#ifndef BM_TRUNK_LUMBAR_DISC_STIFFNESS
#define BM_TRUNK_LUMBAR_DISC_STIFFNESS BM_TRUNK_LUMBAR_DISC_STIFNESS
#endif
   AnyInt deprecated_BM_TRUNK_LUMBAR_DISC_STIFNESS = warn(0, strformat("\n"+
      "------------------------------------------------------------------------------------------------------------------------ \n"+
      "    `BM_TRUNK_LUMBAR_DISC_STIFNESS` has been renamed to BM_TRUNK_LUMBAR_DISC_STIFFNESS.\n"+
      "    Please use the corrected name instead.\n"+
      "------------------------------------------------------------------------------------------------------------------------ "));
#endif

#ifdef BM_TRUNK_CERVICAL_DISC_STIFNESS
#ifndef BM_TRUNK_CERVICAL_DISC_STIFFNESS
#define BM_TRUNK_CERVICAL_DISC_STIFFNESS BM_TRUNK_CERVICAL_DISC_STIFNESS
#endif
   AnyInt deprecated_BM_TRUNK_CERVICAL_DISC_STIFNESS = warn(0, strformat("\n"+
      "------------------------------------------------------------------------------------------------------------------------ \n"+
      "    `BM_TRUNK_CERVICAL_DISC_STIFNESS` has been renamed to BM_TRUNK_CERVICAL_DISC_STIFFNESS.\n"+
      "    Please use the corrected name instead.\n"+
      "------------------------------------------------------------------------------------------------------------------------ "));
#endif



#ifndef ANYBODY_PYTHON_SUPPRESS_NOTICE
#if ANYBODY_PYTHON_AVAILABLE == 0
  AnyMessage PythonMissing =
  {
    Type = MSG_Message;
    TriggerPreProcess = On;
    Message = strformat("\n"+
      "-----------------------------------------------------------------------\n"+
      "     Python is not availble. Some features may be unavailable.\n"+
      "   \n"+
      "     To fix this:\n"+
      "   \n"+
      "     1. Reinstall AnyBody and choose to install Python.\n"+
      "     2. (Advanced) Set ANYBODY_PATH_PYTHONHOME to your\n"+
      "        existing Python installation folder.\n"+
      "   \n"+
      "     Hide this message: Add #define ANYBODY_PYTHON_SUPPRESS_NOTICE\n"+
      "     to your model.\n"+
      "-----------------------------------------------------------------------\n");
};
#endif
#endif


