


//Talus
Seg.Foot.Talus.Axes0 = 
Seg.Shank.Axes0*
Seg.Shank.AnkleJoint.ARel*
RotMat((-pi/180)*.JointPos.AnklePlantarFlexion ,z)*
Seg.Foot.Talus.AnkleJoint.ARel';


//Midfoot
Seg.Foot.Midfoot.Axes0 = 
Seg.Foot.Talus.Axes0*
Seg.Foot.Talus.SubTalarJoint.ARel*
RotMat((pi/180)*.JointPos.SubTalarEversion ,z)*
Seg.Foot.SubTalarJoint.ARel';

//Toes
Seg.Foot.Toe1.Axes0 =
Seg.Foot.Midfoot.Axes0*
Seg.Foot.Midfoot.Metatarsal1.MtPhalJoint.ARel*
Seg.Foot.Metatarsal1.MtPhalJoint.RotNode.ARel* // check this
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal1DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal1Abduction,y)*
Seg.Foot.ProximalPhalange1.MtPhalJoint.RotNode.ARel'* // check this
Seg.Foot.Toe1.ProximalPhalange1.MtPhalJoint.ARel';

Seg.Foot.Toe2.Axes0 =
Seg.Foot.Midfoot.Axes0*
Seg.Foot.Midfoot.Metatarsal2.MtPhalJoint.ARel*
Seg.Foot.Metatarsal2.MtPhalJoint.RotNode.ARel* // check this
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal2DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal2Abduction,y)*
Seg.Foot.ProximalPhalange2.MtPhalJoint.RotNode.ARel'* // check this
Seg.Foot.Toe2.ProximalPhalange2.MtPhalJoint.ARel';

Seg.Foot.Toe3.Axes0 =
Seg.Foot.Midfoot.Axes0*
Seg.Foot.Midfoot.Metatarsal3.MtPhalJoint.ARel*
Seg.Foot.Metatarsal3.MtPhalJoint.RotNode.ARel* // check this
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal3DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal3Abduction,y)*
Seg.Foot.ProximalPhalange3.MtPhalJoint.RotNode.ARel'* // check this
Seg.Foot.Toe3.ProximalPhalange3.MtPhalJoint.ARel';

Seg.Foot.Toe4.Axes0 =
Seg.Foot.Midfoot.Axes0*
Seg.Foot.Midfoot.Metatarsal4.MtPhalJoint.ARel*
Seg.Foot.Metatarsal4.MtPhalJoint.RotNode.ARel* // check this
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal4DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal4Abduction,y)*
Seg.Foot.ProximalPhalange4.MtPhalJoint.RotNode.ARel'* // check this
Seg.Foot.Toe4.ProximalPhalange4.MtPhalJoint.ARel';

Seg.Foot.Toe5.Axes0 =
Seg.Foot.Midfoot.Axes0*
Seg.Foot.Midfoot.Metatarsal5.MtPhalJoint.ARel*
Seg.Foot.Metatarsal5.MtPhalJoint.RotNode.ARel* // check this
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal5DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal5Abduction,y)*
Seg.Foot.ProximalPhalange5.MtPhalJoint.RotNode.ARel'* // check this
Seg.Foot.Toe5.ProximalPhalange5.MtPhalJoint.ARel';



//Foot
Seg.Foot.Calcaneus.Axes0 = 
Seg.Foot.Talus.Axes0*
Seg.Foot.Talus.SubTalarJoint.ARel*
RotMat((pi/180)*.JointPos.SubTalarEversion ,z)*
Seg.Foot.SubTalarJoint.ARel';


Seg.Foot.Cuboid.Axes0 = 
Seg.Foot.Calcaneus.Axes0*
Seg.Foot.Calcaneus.CalcaneoCuboidJoint.ARel*
Seg.Foot.Calcaneus.CalcaneoCuboidJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.CalcaneoCuboidDorsiFlexion,z)*
RotMat((pi/180)*.JointPos.CalcaneoCuboidAbduction,y)*
RotMat((pi/180)*.JointPos.CalcaneoCuboidEversion,x)*
Seg.Foot.Cuboid.CalcaneoCuboidJoint.RotNode.ARel'*
Seg.Foot.Cuboid.CalcaneoCuboidJoint.ARel';


Seg.Foot.Navicular.Axes0 =
Seg.Foot.Talus.Axes0*
Seg.Foot.Talus.TaloNavicularJoint.ARel*
Seg.Foot.Talus.TaloNavicularJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.TaloNavicularDorsiFlexion,z)*
RotMat((pi/180)*.JointPos.TaloNavicularAbduction,y)*
RotMat((pi/180)*.JointPos.TaloNavicularEversion,x)*
Seg.Foot.Navicular.TaloNavicularJoint.RotNode.ARel'*
Seg.Foot.Navicular.TaloNavicularJoint.ARel';


Seg.Foot.MedialCuneiform.Axes0 =
Seg.Foot.Navicular.Axes0*
Seg.Foot.Navicular.MedCuneiNaviJoint.ARel*
Seg.Foot.Navicular.MedCuneiNaviJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.NaviculoMedialCuneiformDorsiFlexion,z)*
RotMat((pi/180)*.JointPos.NaviculoMedialCuneiformAbduction,y)*
Seg.Foot.MedialCuneiform.CuneiNaviJoint.RotNode.ARel'*
Seg.Foot.MedialCuneiform.CuneiNaviJoint.ARel';


Seg.Foot.IntermediateCuneiform.Axes0 =
Seg.Foot.Navicular.Axes0*
Seg.Foot.Navicular.IntCuneiNaviJoint.ARel*
Seg.Foot.Navicular.IntCuneiNaviJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.NaviculoIntermediateCuneiformDorsiFlexion,z)*
RotMat((pi/180)*.JointPos.NaviculoIntermediateCuneiformAbduction,y)*
Seg.Foot.IntermediateCuneiform.CuneiNaviJoint.RotNode.ARel'*
Seg.Foot.IntermediateCuneiform.CuneiNaviJoint.ARel';


Seg.Foot.LateralCuneiform.Axes0 =
Seg.Foot.Navicular.Axes0*
Seg.Foot.Navicular.LatCuneiNaviJoint.ARel*
Seg.Foot.Navicular.LatCuneiNaviJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.NaviculoLateralCuneiformDorsiFlexion,z)*
RotMat((pi/180)*.JointPos.NaviculoLateralCuneiformAbduction,y)*
Seg.Foot.LateralCuneiform.CuneiNaviJoint.RotNode.ARel'*
Seg.Foot.LateralCuneiform.CuneiNaviJoint.ARel';


Seg.Foot.Metatarsal1.Axes0 =
Seg.Foot.MedialCuneiform.Axes0*
Seg.Foot.MedialCuneiform.TarsoMtJoint.ARel*
Seg.Foot.MedialCuneiform.TarsoMtJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.TarsoMetatarsal1DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.TarsoMetatarsal1Abduction,y)*
Seg.Foot.Metatarsal1.TarsoMtJoint.RotNode.ARel'*
Seg.Foot.Metatarsal1.TarsoMtJoint.ARel';


Seg.Foot.Metatarsal2.Axes0 =
Seg.Foot.IntermediateCuneiform.Axes0*
Seg.Foot.IntermediateCuneiform.TarsoMtJoint.ARel*
Seg.Foot.IntermediateCuneiform.TarsoMtJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.TarsoMetatarsal2DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.TarsoMetatarsal2Abduction,y)*
Seg.Foot.Metatarsal2.TarsoMtJoint.RotNode.ARel'*
Seg.Foot.Metatarsal2.TarsoMtJoint.ARel';


Seg.Foot.Metatarsal3.Axes0 =
Seg.Foot.LateralCuneiform.Axes0*
Seg.Foot.LateralCuneiform.TarsoMtJoint.ARel*
Seg.Foot.LateralCuneiform.TarsoMtJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.TarsoMetatarsal3DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.TarsoMetatarsal3Abduction,y)*
Seg.Foot.Metatarsal3.TarsoMtJoint.RotNode.ARel'*
Seg.Foot.Metatarsal3.TarsoMtJoint.ARel';


Seg.Foot.Metatarsal4.Axes0 =
Seg.Foot.Cuboid.Axes0*
Seg.Foot.Cuboid.TarsoMt4Joint.ARel*
Seg.Foot.Cuboid.TarsoMt4Joint.RotNode.ARel*
RotMat((pi/180)*.JointPos.TarsoMetatarsal4DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.TarsoMetatarsal4Abduction,y)*
Seg.Foot.Metatarsal4.TarsoMtJoint.RotNode.ARel'*
Seg.Foot.Metatarsal4.TarsoMtJoint.ARel';



Seg.Foot.Metatarsal5.Axes0 =
Seg.Foot.Cuboid.Axes0*
Seg.Foot.Cuboid.TarsoMt5Joint.ARel*
Seg.Foot.Cuboid.TarsoMt5Joint.RotNode.ARel*
RotMat((pi/180)*.JointPos.TarsoMetatarsal5Abduction,y)*
RotMat((pi/180)*.JointPos.TarsoMetatarsal5SkewDorsiFlexion,z)*
Seg.Foot.Metatarsal5.TarsoMtJoint.RotNode.ARel'*
Seg.Foot.Metatarsal5.TarsoMtJoint.ARel';


Seg.Foot.ProximalPhalange1.Axes0 =
Seg.Foot.Metatarsal1.Axes0*
Seg.Foot.Metatarsal1.MtPhalJoint.ARel*
Seg.Foot.Metatarsal1.MtPhalJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal1DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal1Abduction,y)*
Seg.Foot.ProximalPhalange1.MtPhalJoint.RotNode.ARel'*
Seg.Foot.ProximalPhalange1.MtPhalJoint.ARel';


Seg.Foot.ProximalPhalange2.Axes0 =
Seg.Foot.Metatarsal2.Axes0*
Seg.Foot.Metatarsal2.MtPhalJoint.ARel*
Seg.Foot.Metatarsal2.MtPhalJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal2DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal2Abduction,y)*
Seg.Foot.ProximalPhalange2.MtPhalJoint.RotNode.ARel'*
Seg.Foot.ProximalPhalange2.MtPhalJoint.ARel';


Seg.Foot.ProximalPhalange3.Axes0 =
Seg.Foot.Metatarsal3.Axes0*
Seg.Foot.Metatarsal3.MtPhalJoint.ARel*
Seg.Foot.Metatarsal3.MtPhalJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal3DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal3Abduction,y)*
Seg.Foot.ProximalPhalange3.MtPhalJoint.RotNode.ARel'*
Seg.Foot.ProximalPhalange3.MtPhalJoint.ARel';


Seg.Foot.ProximalPhalange4.Axes0 =
Seg.Foot.Metatarsal4.Axes0*
Seg.Foot.Metatarsal4.MtPhalJoint.ARel*
Seg.Foot.Metatarsal4.MtPhalJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal4DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal4Abduction,y)*
Seg.Foot.ProximalPhalange4.MtPhalJoint.RotNode.ARel'*
Seg.Foot.ProximalPhalange4.MtPhalJoint.ARel';


Seg.Foot.ProximalPhalange5.Axes0 =
Seg.Foot.Metatarsal5.Axes0*
Seg.Foot.Metatarsal5.MtPhalJoint.ARel*
Seg.Foot.Metatarsal5.MtPhalJoint.RotNode.ARel*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal5DorsiFlexion,z)*
RotMat((pi/180)*.JointPos.MetatarsoPhalangeal5Abduction,y)*
Seg.Foot.ProximalPhalange5.MtPhalJoint.RotNode.ARel'*
Seg.Foot.ProximalPhalange5.MtPhalJoint.ARel';


Seg.Foot.MiddlePhalange2.Axes0 =
Seg.Foot.ProximalPhalange2.Axes0*
Seg.Foot.ProximalPhalange2.ProxPhalJoint.ARel*
RotMat((pi/180)*.JointPos.ProximoMedialPhalange2DorsiFlexion,z)*
Seg.Foot.MiddlePhalange2.ProxPhalJoint.ARel';


Seg.Foot.MiddlePhalange3.Axes0 =
Seg.Foot.ProximalPhalange3.Axes0*
Seg.Foot.ProximalPhalange3.ProxPhalJoint.ARel*
RotMat((pi/180)*.JointPos.ProximoMedialPhalange3DorsiFlexion,z)*
Seg.Foot.MiddlePhalange3.ProxPhalJoint.ARel';


Seg.Foot.MiddlePhalange4.Axes0 =
Seg.Foot.ProximalPhalange4.Axes0*
Seg.Foot.ProximalPhalange4.ProxPhalJoint.ARel*
RotMat((pi/180)*.JointPos.ProximoMedialPhalange4DorsiFlexion,z)*
Seg.Foot.MiddlePhalange4.ProxPhalJoint.ARel';


Seg.Foot.MiddlePhalange5.Axes0 =
Seg.Foot.ProximalPhalange5.Axes0*
Seg.Foot.ProximalPhalange5.ProxPhalJoint.ARel*
RotMat((pi/180)*.JointPos.ProximoMedialPhalange5DorsiFlexion,z)*
Seg.Foot.MiddlePhalange5.ProxPhalJoint.ARel';


Seg.Foot.DistalPhalange1.Axes0 =
Seg.Foot.ProximalPhalange1.Axes0*
Seg.Foot.ProximalPhalange1.DistPhalJoint.ARel*
RotMat((pi/180)*.JointPos.ProximoDistalPhalange1DorsiFlexion,z)*
Seg.Foot.DistalPhalange1.DistPhalJoint.ARel';


Seg.Foot.DistalPhalange2.Axes0 =
Seg.Foot.MiddlePhalange2.Axes0*
Seg.Foot.MiddlePhalange2.DistPhalJoint.ARel*
RotMat((pi/180)*.JointPos.MedioDistalPhalange2DorsiFlexion,z)*
Seg.Foot.DistalPhalange2.DistPhalJoint.ARel';


Seg.Foot.DistalPhalange3.Axes0 =
Seg.Foot.MiddlePhalange3.Axes0*
Seg.Foot.MiddlePhalange3.DistPhalJoint.ARel*
RotMat((pi/180)*.JointPos.MedioDistalPhalange3DorsiFlexion,z)*
Seg.Foot.DistalPhalange3.DistPhalJoint.ARel';


Seg.Foot.DistalPhalange4.Axes0 =
Seg.Foot.MiddlePhalange4.Axes0*
Seg.Foot.MiddlePhalange4.DistPhalJoint.ARel*
RotMat((pi/180)*.JointPos.MedioDistalPhalange4DorsiFlexion,z)*
Seg.Foot.DistalPhalange4.DistPhalJoint.ARel';


Seg.Foot.DistalPhalange5.Axes0 =
Seg.Foot.MiddlePhalange5.Axes0*
Seg.Foot.MiddlePhalange5.DistPhalJoint.ARel*
RotMat((pi/180)*.JointPos.MedioDistalPhalange5DorsiFlexion,z)*
Seg.Foot.DistalPhalange5.DistPhalJoint.ARel';

