// Ligament Nodes    
AnyRefNode ALLNodeSuperior = {sRel = .Scale(.Data.ALLNodeSuperior_pos);};
AnyRefNode PLLNodeSuperior = {sRel = .Scale(.Data.PLLNodeSuperior_pos);};
// End of ligament Nodes

// Multifidi Nodes
AnyRefNode MFdL4S1NodeR = {sRel = .Scale(.Data.MFdL4S1NodeR_pos);};
AnyRefNode MFdL4S1NodeL = {sRel = .Scale(.Data.MFdL4S1NodeL_pos);};

AnyRefNode MFdL5S1NodeR = {sRel = .Scale(.Data.MFdL5S1NodeR_pos);};
AnyRefNode MFdL5S1NodeL = {sRel = .Scale(.Data.MFdL5S1NodeL_pos);};

AnyRefNode MFmL3S1NodeR = {sRel = .Scale(.Data.MFmL3S1NodeR_pos);};
AnyRefNode MFmL3S1NodeL = {sRel = .Scale(.Data.MFmL3S1NodeL_pos);};

AnyRefNode MFmL4SacrumNodeR = {sRel = .Scale(.Data.MFmL4SacrumNodeR_pos);};
AnyRefNode MFmL4SacrumNodeL = {sRel = .Scale(.Data.MFmL4SacrumNodeL_pos);};

AnyRefNode MFmL5SacrumNodeR = {sRel = .Scale(.Data.MFmL5SacrumNodeR_pos);};
AnyRefNode MFmL5SacrumNodeL = {sRel = .Scale(.Data.MFmL5SacrumNodeL_pos);};

AnyRefNode MFtsL1S1NodeR = {sRel = .Scale(.Data.MFtsL1S1NodeR_pos);};
AnyRefNode MFtsL1S1NodeL = {sRel = .Scale(.Data.MFtsL1S1NodeL_pos);};

AnyRefNode MFtsL2S1NodeR = {sRel = .Scale(.Data.MFtsL2S1NodeR_pos);};
AnyRefNode MFtsL2S1NodeL = {sRel = .Scale(.Data.MFtsL2S1NodeL_pos);};

AnyRefNode MFtsL3LigamentNodeViaR = {sRel = .Scale(.Data.MFtsL3LigamentNodeViaR_pos);};
AnyRefNode MFtsL3LigamentNodeViaL = {sRel = .Scale(.Data.MFtsL3LigamentNodeViaL_pos);};

AnyRefNode MFtsL3LigamentNodeR = {sRel = .Scale(.Data.MFtsL3LigamentNodeR_pos);};
AnyRefNode MFtsL3LigamentNodeL = {sRel = .Scale(.Data.MFtsL3LigamentNodeL_pos);};

AnyRefNode MFtsL4SacrumNodeR = {sRel = .Scale(.Data.MFtsL4SacrumNodeR_pos);};
AnyRefNode MFtsL4SacrumNodeL = {sRel = .Scale(.Data.MFtsL4SacrumNodeL_pos);};

AnyRefNode MFtsL4SacrumViaNodeR = {sRel = .Scale(.Data.MFtsL4SacrumViaNodeR_pos);};
AnyRefNode MFtsL4SacrumViaNodeL = {sRel = .Scale(.Data.MFtsL4SacrumViaNodeL_pos);};

AnyRefNode MFtsL5SacrumViaNodeR = {sRel = .Scale(.Data.MFtsL5SacrumViaNodeR_pos);};
AnyRefNode MFtsL5SacrumViaNodeL = {sRel = .Scale(.Data.MFtsL5SacrumViaNodeL_pos);};

AnyRefNode MFtsL5SacrumNodeR = {sRel = .Scale(.Data.MFtsL5SacrumNodeR_pos);};
AnyRefNode MFtsL5SacrumNodeL = {sRel = .Scale(.Data.MFtsL5SacrumNodeL_pos);};

AnyRefNode MFtstL1SIPSNodeR = {sRel = .Scale(.Data.MFtstL1SIPSNodeR_pos);};
AnyRefNode MFtstL1SIPSNodeL = {sRel = .Scale(.Data.MFtstL1SIPSNodeL_pos);};

AnyRefNode MFtstL2SIPSNodeR = {sRel = .Scale(.Data.MFtstL2SIPSNodeR_pos);};
AnyRefNode MFtstL2SIPSNodeL = {sRel = .Scale(.Data.MFtstL2SIPSNodeL_pos);};


AnyRefNode MFtstL1SIPSViaNodeR = {sRel = .Scale(.Data.MFtstL1SIPSViaNodeR_pos);};
AnyRefNode MFtstL1SIPSViaNodeL = {sRel = .Scale(.Data.MFtstL1SIPSViaNodeL_pos);};

AnyRefNode MFtstL2SIPSViaNodeR = {sRel = .Scale(.Data.MFtstL2SIPSViaNodeR_pos);};
AnyRefNode MFtstL2SIPSViaNodeL = {sRel = .Scale(.Data.MFtstL2SIPSViaNodeL_pos);};

// End of Multifidi Nodes

// Erector Spinae Nodes
AnyRefNode ILplL1CINodeR = {sRel = .Scale(.Data.ILplL1CINodeR_pos);};
AnyRefNode ILplL1CINodeL = {sRel = .Scale(.Data.ILplL1CINodeL_pos);};

AnyRefNode ILplL2CINodeR = {sRel = .Scale(.Data.ILplL2CINodeR_pos);};
AnyRefNode ILplL2CINodeL = {sRel = .Scale(.Data.ILplL2CINodeL_pos);};

AnyRefNode ILplL3CINodeR = {sRel = .Scale(.Data.ILplL3CINodeR_pos);};
AnyRefNode ILplL3CINodeL = {sRel = .Scale(.Data.ILplL3CINodeL_pos);};

AnyRefNode ILplL4CINodeR = {sRel = .Scale(.Data.ILplL4CINodeR_pos);};
AnyRefNode ILplL4CINodeL = {sRel = .Scale(.Data.ILplL4CINodeL_pos);};

AnyRefNode LTplL1SIPSNodeR = {sRel = .Scale(.Data.LTplL1SIPSNodeR_pos);};
AnyRefNode LTplL1SIPSNodeL = {sRel = .Scale(.Data.LTplL1SIPSNodeL_pos);};

AnyRefNode LTplL2SIPSNodeR = {sRel = .Scale(.Data.LTplL2SIPSNodeR_pos);};
AnyRefNode LTplL2SIPSNodeL = {sRel = .Scale(.Data.LTplL2SIPSNodeL_pos);};

AnyRefNode LTplL3SIPSNodeR = {sRel = .Scale(.Data.LTplL3SIPSNodeR_pos);};
AnyRefNode LTplL3SIPSNodeL = {sRel = .Scale(.Data.LTplL3SIPSNodeL_pos);};

AnyRefNode LTplL4SIPSNodeR = {sRel = .Scale(.Data.LTplL4SIPSNodeR_pos);};
AnyRefNode LTplL4SIPSNodeL = {sRel = .Scale(.Data.LTplL4SIPSNodeL_pos);};

AnyRefNode LTplL5IliumNodeR = {sRel = .Scale(.Data.LTplL5IliumNodeR_pos);};
AnyRefNode LTplL5IliumNodeL = {sRel = .Scale(.Data.LTplL5IliumNodeL_pos);};

AnyRefNode ILptC5SIPSNodeR = {sRel = .Scale(.Data.ILptC5SIPSNodeR_pos);};
AnyRefNode ILptC5SIPSNodeL = {sRel = .Scale(.Data.ILptC5SIPSNodeL_pos);};

AnyRefNode ILptC6SIPSNodeR = {sRel = .Scale(.Data.ILptC6SIPSNodeR_pos);};
AnyRefNode ILptC6SIPSNodeL = {sRel = .Scale(.Data.ILptC6SIPSNodeL_pos);};

AnyRefNode ILptC7CINodeR = {sRel = .Scale(.Data.ILptC7CINodeR_pos);};
AnyRefNode ILptC7CINodeL = {sRel = .Scale(.Data.ILptC7CINodeL_pos);};

AnyRefNode ILptC8CINodeR = {sRel = .Scale(.Data.ILptC8CINodeR_pos);};
AnyRefNode ILptC8CINodeL = {sRel = .Scale(.Data.ILptC8CINodeL_pos);};

AnyRefNode ILptC9CINodeR = {sRel = .Scale(.Data.ILptC9CINodeR_pos);};
AnyRefNode ILptC9CINodeL = {sRel = .Scale(.Data.ILptC9CINodeL_pos);};

AnyRefNode ILptC10CINodeR = {sRel = .Scale(.Data.ILptC10CINodeR_pos);};
AnyRefNode ILptC10CINodeL = {sRel = .Scale(.Data.ILptC10CINodeL_pos);};

AnyRefNode ILptC11CINodeR = {sRel = .Scale(.Data.ILptC11CINodeR_pos);};
AnyRefNode ILptC11CINodeL = {sRel = .Scale(.Data.ILptC11CINodeL_pos);};

AnyRefNode ILptC12CINodeR = {sRel = .Scale(.Data.ILptC12CINodeR_pos);};
AnyRefNode ILptC12CINodeL = {sRel = .Scale(.Data.ILptC12CINodeL_pos);};

AnyRefNode LTptT6S1NodeR = {sRel = .Scale(.Data.LTptT6S1NodeR_pos);};
AnyRefNode LTptT6S1NodeL = {sRel = .Scale(.Data.LTptT6S1NodeL_pos);};

AnyRefNode LTptT7S2NodeR = {sRel = .Scale(.Data.LTptT7S2NodeR_pos);};
AnyRefNode LTptT7S2NodeL = {sRel = .Scale(.Data.LTptT7S2NodeL_pos);};

AnyRefNode LTptT8S3NodeR = {sRel = .Scale(.Data.LTptT8S3NodeR_pos);};
AnyRefNode LTptT8S3NodeL = {sRel = .Scale(.Data.LTptT8S3NodeL_pos);};

AnyRefNode LTptT9S4NodeR = {sRel = .Scale(.Data.LTptT9S4NodeR_pos);};
AnyRefNode LTptT9S4NodeL = {sRel = .Scale(.Data.LTptT9S4NodeL_pos);};

AnyRefNode LTptT10SacrumNodeR = {sRel = .Scale(.Data.LTptT10SacrumNodeR_pos);};
AnyRefNode LTptT10SacrumNodeL = {sRel = .Scale(.Data.LTptT10SacrumNodeL_pos);};

AnyRefNode LTptT11SacrumNodeR = {sRel = .Scale(.Data.LTptT11SacrumNodeR_pos);};
AnyRefNode LTptT11SacrumNodeL = {sRel = .Scale(.Data.LTptT11SacrumNodeL_pos);};

AnyRefNode LTptT12SacrumNodeR = {sRel = .Scale(.Data.LTptT12SacrumNodeR_pos);};
AnyRefNode LTptT12SacrumNodeL = {sRel = .Scale(.Data.LTptT12SacrumNodeL_pos);};

AnyRefNode LTptT10SacrumViaNodeR = {sRel = .Scale(.Data.LTptT10SacrumViaNodeR_pos);};
AnyRefNode LTptT10SacrumViaNodeL = {sRel = .Scale(.Data.LTptT10SacrumViaNodeL_pos);};


AnyRefNode LTptT11SacrumViaNodeR = {sRel = .Scale(.Data.LTptT11SacrumViaNodeR_pos);};
AnyRefNode LTptT11SacrumViaNodeL = {sRel = .Scale(.Data.LTptT11SacrumViaNodeL_pos);};

AnyRefNode LTptT12SacrumViaNodeR = {sRel = .Scale(.Data.LTptT12SacrumViaNodeR_pos);};
AnyRefNode LTptT12SacrumViaNodeL = {sRel = .Scale(.Data.LTptT12SacrumViaNodeL_pos);};


// End of Erector Spinae Nodes

// Psoas Major Nodes
AnyRefNode IliopubicEminenceViaNodeR = {sRel = .Scale(.Data.IliopubicEminenceViaNodeR_pos);};
AnyRefNode IliopubicEminenceViaNodeL = {sRel = .Scale(.Data.IliopubicEminenceViaNodeL_pos);};

//These points are used as end points in case there are no legs in the model
//the points are very close to the via points above but they are different
Right ={
  AnyRefNode IliopsoasIns= {
    sRel = ..Scale(..Data.Right_IliopubicEminenceEndNode_pos); 
  }; //Via point for Psoas Major, will first be used as end point.
  
  
  // Definition of cylinder used for wrapping of the psoas major muscle  
  AnyRefNode PsoasWrapSurf = 
  {
    //AnyFunTransform3D &Scale = ..Scale;
    AnyFloat lengthscalefactor = 2.5;
    AnyFloat radiusscalefactor=1;
    AnyFloat p = ..Scale(..Data.Right_PsoasWrapSurf_points);
    AnyVar Z_rotation =0;

    #include "<ANYBODY_PATH_MODELUTILS>/WrappingSurfaces/WrappingCylinder5PointFit.any"
  };
};

Left =
{
  ///This point is used as Iliopsoas end points in case there are no legs in the model
  AnyRefNode IliopsoasIns= 
  {
    sRel = ..Scale(..Data.Left_IliopubicEminenceEndNode_pos);
  };  //Via point for Psoas Major, will first be used as end point.
  
  // Definition of cylinder used for wrapping of the psoas major muscle
  AnyRefNode PsoasWrapSurf = {
    //AnyFunTransform3D &Scale = ..Scale;
    AnyFloat lengthscalefactor = 2.5;
    AnyFloat radiusscalefactor=1;
    AnyFloat p = ..Scale(..Data.Left_PsoasWrapSurf_points);
    AnyVar Z_rotation =0;

    #include "<ANYBODY_PATH_MODELUTILS>/WrappingSurfaces/WrappingCylinder5PointFit.any"
  };
};

AnyRefNode PMT12I_TMVia5NodeR = {sRel = .Scale(.Data.PMT12I_TMVia5NodeR_pos);};
AnyRefNode PMT12I_TMVia5NodeL = {sRel = .Scale(.Data.PMT12I_TMVia5NodeL_pos);};

AnyRefNode PML1I_TMVia4NodeR = {sRel = .Scale(.Data.PML1I_TMVia4NodeR_pos);};
AnyRefNode PML1I_TMVia4NodeL = {sRel = .Scale(.Data.PML1I_TMVia4NodeL_pos);};

AnyRefNode PML2I_TMVia3NodeR = {sRel = .Scale(.Data.PML2I_TMVia3NodeR_pos);};
AnyRefNode PML2I_TMVia3NodeL = {sRel = .Scale(.Data.PML2I_TMVia3NodeL_pos);};

AnyRefNode PML3I_TMVia2NodeR = {sRel = .Scale(.Data.PML3I_TMVia2NodeR_pos);};
AnyRefNode PML3I_TMVia2NodeL = {sRel = .Scale(.Data.PML3I_TMVia2NodeL_pos);};

AnyRefNode PML4I_TMVia1NodeR = {sRel = .Scale(.Data.PML4I_TMVia1NodeR_pos);};
AnyRefNode PML4I_TMVia1NodeL = {sRel = .Scale(.Data.PML4I_TMVia1NodeL_pos);};

AnyRefNode PML5_TMVia1NodeR = {sRel = .Scale(.Data.PML5_TMVia1NodeR_pos);};
AnyRefNode PML5_TMVia1NodeL = {sRel = .Scale(.Data.PML5_TMVia1NodeL_pos);};

AnyRefNode PML1T_TMVia5NodeR = {sRel = .Scale(.Data.PML1T_TMVia5NodeR_pos);};
AnyRefNode PML1T_TMVia5NodeL = {sRel = .Scale(.Data.PML1T_TMVia5NodeL_pos);};

AnyRefNode PML2T_TMVia4NodeR = {sRel = .Scale(.Data.PML2T_TMVia4NodeR_pos);};
AnyRefNode PML2T_TMVia4NodeL = {sRel = .Scale(.Data.PML2T_TMVia4NodeL_pos);};

AnyRefNode PML3T_TMVia3NodeR = {sRel = .Scale(.Data.PML3T_TMVia3NodeR_pos);};
AnyRefNode PML3T_TMVia3NodeL = {sRel = .Scale(.Data.PML3T_TMVia3NodeL_pos);};

AnyRefNode PML4T_TMVia2NodeR = {sRel = .Scale(.Data.PML4T_TMVia2NodeR_pos);};
AnyRefNode PML4T_TMVia2NodeL = {sRel = .Scale(.Data.PML4T_TMVia2NodeL_pos);};

AnyRefNode PML5T_TMVia1NodeR = {sRel = .Scale(.Data.PML5T_TMVia1NodeR_pos);};
AnyRefNode PML5T_TMVia1NodeL = {sRel = .Scale(.Data.PML5T_TMVia1NodeL_pos);};
// End of Psoas Major Nodes

// Quadratus Lumborum Nodes
AnyRefNode QLNodeR = {sRel = .Scale(.Data.QLNodeR_pos);};
AnyRefNode QLNodeL = {sRel = .Scale(.Data.QLNodeL_pos);};
// End of Quadratus Lumborum Nodes

// Rectus Abdominis Nodes
AnyRefNode RA_1_R = {sRel = .Scale(.Data.RA_NodeR1_pos);};
AnyRefNode RA_2_R = {sRel = .Scale(.Data.RA_NodeR2_pos);};
AnyRefNode RA_3_R = {sRel = .Scale(.Data.RA_NodeR3_pos);};
AnyRefNode RA_4_R = {sRel = .Scale(.Data.RA_NodeR4_pos);};
AnyRefNode RA_1_L = {sRel = .Scale(.Data.RA_NodeL1_pos);};
AnyRefNode RA_2_L = {sRel = .Scale(.Data.RA_NodeL2_pos);};
AnyRefNode RA_3_L = {sRel = .Scale(.Data.RA_NodeL3_pos);};
AnyRefNode RA_4_L = {sRel = .Scale(.Data.RA_NodeL4_pos);};
// End of Rectus Abdominis Nodes

// Obliquus Externus Nodes
AnyRefNode OEC11_CINodeR = {sRel = .Scale(.Data.OEC11_CINodeR_pos);};
AnyRefNode OEC11_CINodeL = {sRel = .Scale(.Data.OEC11_CINodeL_pos);};

AnyRefNode OEC12_CINodeR = {sRel = .Scale(.Data.OEC12_CINodeR_pos);};
AnyRefNode OEC12_CINodeL = {sRel = .Scale(.Data.OEC12_CINodeL_pos);};
// End of Obliquus Externus Nodes

// Obliquus Internus Nodes
AnyRefNode OICI_C12NodeR = {sRel = .Scale(.Data.OICI_C12NodeR_pos);};
AnyRefNode OICI_C12NodeL = {sRel = .Scale(.Data.OICI_C12NodeL_pos);};

AnyRefNode OICI_C11NodeR = {sRel = .Scale(.Data.OICI_C11NodeR_pos);};
AnyRefNode OICI_C11NodeL = {sRel = .Scale(.Data.OICI_C11NodeL_pos);};    

AnyRefNode OICI_C10NodeR = {sRel = .Scale(.Data.OICI_C10NodeR_pos);};
AnyRefNode OICI_C10NodeL = {sRel = .Scale(.Data.OICI_C10NodeL_pos);};

AnyRefNode OICI_RS1NodeR = {sRel = .Scale(.Data.OICI_RS1NodeR_pos);};
AnyRefNode OICI_RS1NodeL = {sRel = .Scale(.Data.OICI_RS1NodeL_pos);};

AnyRefNode OICI_RS2NodeR = {sRel = .Scale(.Data.OICI_RS2NodeR_pos);};
AnyRefNode OICI_RS2NodeL = {sRel = .Scale(.Data.OICI_RS2NodeL_pos);};

AnyRefNode OICI_RS3NodeR = {sRel = .Scale(.Data.OICI_RS3NodeR_pos);};
AnyRefNode OICI_RS3NodeL = {sRel = .Scale(.Data.OICI_RS3NodeL_pos);};
// End of Obliquus Internus Nodes

AnyRefNode Tuber_ischiadicumR = {sRel = .Scale(.Data.Tuber_ischiadicumR_pos);};
AnyRefNode Tuber_ischiadicumL = {sRel = .Scale(.Data.Tuber_ischiadicumL_pos);};

//Midpoint between  Tuber_ischiadicumR and Tuber_ischiadicumL
AnyRefNode TuberIschiadicumCenter = {sRel = .Scale(.Data.TuberIschiadicumCenter_pos);};





