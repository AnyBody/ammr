
AnyFolder Model = {
  // Model parts included in the moment arm study
  AnyFolder &PelvisRef = .TrunkHumanFolderRef.Segments.PelvisSeg;
  AnyFolder &TrunkRef = .TrunkHumanFolderRef;
  AnyFolder &SpineMusRef = .TrunkHumanFolderRef.Muscles;
  AnyFolder &SpineMusRightRef =. TrunkHumanFolderRef.Muscles.Right;
  AnyFolder &SpineMusLeftRef = .TrunkHumanFolderRef.Muscles.Left;


 AnyFixedRefFrame ground = {
   AnyRefNode node = {
      ARel=..PelvisRef.Axes0;
     sRel=..PelvisRef.r0;
   };
 };




AnyFolder Drivers = {
   AnyVar AngularVelocity = (..RangeOfMotion[1]-..RangeOfMotion[0])*pi/180;

 AnyKinMeasureOrg TrunkMeasure = {
  AnyKinMeasure& PelvisThoraxExtension= ...TrunkHumanInterfaceRef.PelvisThoraxExtension;
  AnyKinMeasure& PelvisThoraxLateralBending= ...TrunkHumanInterfaceRef.PelvisThoraxLateralBending;
  AnyKinMeasure& PelvisThoraxRotation= ...TrunkHumanInterfaceRef.PelvisThoraxRotation;
  AnyKinMeasure& SkullThoraxFlexion= ...TrunkHumanInterfaceRef.SkullThoraxFlexion;
  AnyKinMeasure& SkullThoraxLateralBending= ...TrunkHumanInterfaceRef.SkullThoraxLateralBending;
  AnyKinMeasure& SkullThoraxRotation= ...TrunkHumanInterfaceRef.SkullThoraxRotation;
 };


 // If Leg are included then Psoas muscle are attached to the legs.
 // Thus, we need to driver for the hip joint
 #if BM_LEG_RIGHT
 AnySphericalJoint &RHipJoint = .....BodyModel.Right.Leg.Jnt.Hip;
 AnyKinEq RHipDriver= {
   AnyKinMeasureOrg HipMeasure = {
      AnyKinMeasure& ref1 = .......BodyModel.Interface.Right.HipFlexion;
      AnyKinMeasure& ref2 = .......BodyModel.Interface.Right.HipAbduction;
      AnyKinMeasure& ref3 = .......BodyModel.Interface.Right.HipExternalRotation;
    };
  };
 #endif
 #if BM_LEG_LEFT
 AnySphericalJoint &LHipJoint = .....BodyModel.Left.Leg.Jnt.Hip;
 AnyKinEq LHipDriver= {
   AnyKinMeasureOrg HipMeasure = {
      AnyKinMeasure& ref1 = .......BodyModel.Interface.Left.HipFlexion;
      AnyKinMeasure& ref2 = .......BodyModel.Interface.Left.HipAbduction;
      AnyKinMeasure& ref3 = .......BodyModel.Interface.Left.HipExternalRotation;
    };
  };
 #endif


 AnyStdJoint PelvisGround={
    AnyRefFrame &Ground = ..ground.node;
    AnyRefFrame &Sacrum= ..PelvisRef;
 };

   };// Drivers

};


AnyKinStudy Study = {
  Gravity = {0,0,0};
  #ifdef EVALUATE_MOMENT_ARMS_NSTEP
  nStep = EVALUATE_MOMENT_ARMS_NSTEP;
  #else
  nStep = 40;
  #endif

  InitialConditions.SolverType = Kinematics.SolverType ;
  Kinematics.SolverType = KinSolDeterminate;

  AnyFolder &Model = .Model;
  AnyOutputFun AngularVelocity_output = {Val = ..Model.Drivers.AngularVelocity;};

  AnyFolder MomentArmCalculations = {

      AnyFolder Abcissa = {
      AnyVar JointAngle =  not(not(..Model.Drivers.TrunkDriver.DriverVel))*..Model.Drivers.TrunkMeasure.Pos'*180/pi  ;
      };

      AnyFolder Mid = {
        AnyFolder Spinalis = {
           AnyVar SpinalisT11T6 = -1*...Model.SpineMusRef.Spinalis.SpinalisT11T6.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar SpinalisT12T5 = -1*...Model.SpineMusRef.Spinalis.SpinalisT12T5.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar SpinalisT12T4 = -1*...Model.SpineMusRef.Spinalis.SpinalisT12T4.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar SpinalisL1T2 = -1*...Model.SpineMusRef.Spinalis.SpinalisL1T2.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar SpinalisL1T3 = -1*...Model.SpineMusRef.Spinalis.SpinalisL1T3.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar SpinalisL2T1  = -1*...Model.SpineMusRef.Spinalis.SpinalisL2T1.LmtDot/...Model.Drivers.AngularVelocity;
        };
      };

      AnyFolder Right = {
        AnyFolder TransversusAbdominis = {
          AnyVar TransversusAbdominisL1 = -1*...Model.SpineMusRightRef.TransversusAbdominis.TransversusAbdominisL1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL2 = -1*...Model.SpineMusRightRef.TransversusAbdominis.TransversusAbdominisL2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL3 = -1*...Model.SpineMusRightRef.TransversusAbdominis.TransversusAbdominisL3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL4 = -1*...Model.SpineMusRightRef.TransversusAbdominis.TransversusAbdominisL4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL5 = -1*...Model.SpineMusRightRef.TransversusAbdominis.TransversusAbdominisL5.LmtDot/...Model.Drivers.AngularVelocity;
        };
        AnyFolder RectusAbdominis = {
        #if BM_TRUNK_CAVITY_MODEL == _CAVITY_MODEL_BUCKLE_ | BM_TRUNK_EXPERIMENTAL_RECTUS_ABDOMINIS == ON
           AnyVar RectusAbdominis_1 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_2 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_2.LmtDot/...Model.Drivers.AngularVelocity;
         #else
           AnyVar RectusAbdominis_1_1 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1_1.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_2 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1_2.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_3 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1_3.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_4 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1_4.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_5 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1_5.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_6 = -1*...Model.SpineMusRightRef.RectusAbdominis.RectusAbdominis_1_6.LmtDot/...Model.Drivers.AngularVelocity;
         #endif
         };
        AnyFolder MultifidusLumborum = {
          AnyVar MultifidusLumborumL1L3 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL1L3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2L4 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL2L4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL3L5 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL3L5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL4S1_1 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL4S1_1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL5S1_1 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL5S1_1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL1L4 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL1L4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2L5_1 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL2L5_1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL3S1 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL3S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL4S1_2 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL4S1_2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL5S1_2 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL5S1_2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL1L5 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL1L5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL1S1 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL1S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2L5_2 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL2L5_2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2S1 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL2S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL3S2 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL3S2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL4S2 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL4S2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL5S3 = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumL5S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumtL1IC = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumtL1IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumtL2IC = -1*...Model.SpineMusRightRef.MultifidusLumborum.MultifidusLumborumtL2IC.LmtDot/...Model.Drivers.AngularVelocity;
        };
        AnyFolder IliocostalisLumborumL = {
          AnyVar IliocostalisLumborumL1 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumL1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumL2 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumL2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumL3 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumL3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumL4 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumL4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR5 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR6 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR6.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR7 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR7.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR8 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR8.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR9 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR9.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR10 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR10.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR11 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR11.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR12 = -1*...Model.SpineMusRightRef.IliocostalisLumborum.IliocostalisLumborumR12.LmtDot/...Model.Drivers.AngularVelocity;
        };
        AnyFolder LongissimusThoracis = {
          AnyVar LongissimusThoracisL1IC = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisL1IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL2IC = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisL2IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL3IC = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisL3IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL4IC = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisL4IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL5Ilium = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisL5Ilium.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT1L1 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT1L1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT2L2 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT2L2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT3L3 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT3L3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT4L4 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT4L4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT5L5 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT5L5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT6S1 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT6S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT7S2 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT7S2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT8S3 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT8S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT9S4 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT9S4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT10S3 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT10S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT11S3 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT11S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT12S3 = -1*...Model.SpineMusRightRef.LongissimusThoracis.LongissimusThoracisT12S3.LmtDot/...Model.Drivers.AngularVelocity;
        };
       AnyFolder PsoasMajor = {
         AnyVar PsoasMajorT12 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorT12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL1_1 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL1_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL1_2 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL1_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL2_1 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL2_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL2_2 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL2_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL3_1 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL3_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL3_2 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL3_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL4_1 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL4_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL4_2 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL4_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL5_1 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL5_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL5_2 = -1*...Model.SpineMusRightRef.PsoasMajor.PsoasMajorL5_2.LmtDot/...Model.Drivers.AngularVelocity;
       };
       AnyFolder QuadratusLumborum = {
         AnyVar QuadratusLumborumR12IC_1 = -1*...Model.SpineMusRightRef.QuadratusLumborum.QuadratusLumborumR12IC_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_2 = -1*...Model.SpineMusRightRef.QuadratusLumborum.QuadratusLumborumR12IC_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_3 = -1*...Model.SpineMusRightRef.QuadratusLumborum.QuadratusLumborumR12IC_3.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_4 = -1*...Model.SpineMusRightRef.QuadratusLumborum.QuadratusLumborumR12IC_4.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_5 = -1*...Model.SpineMusRightRef.QuadratusLumborum.QuadratusLumborumR12IC_5.LmtDot/...Model.Drivers.AngularVelocity;
       };
       AnyFolder ObliquusExternus = {
         AnyVar ObliquusExternusR6Abd = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR6Abd.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR7Abd = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR7Abd.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR8Abd = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR8Abd.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR9Abd_1 = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR9Abd_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR10Abd_1 = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR10Abd_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR10Abd_2 = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR10Abd_2.LmtDot/...Model.Drivers.AngularVelocity;
//         AnyVar ObliquusExternusR10Abd_2 = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR10Abd_2.LmtDot/...Model.Drivers.AngularVelocity;
//         #if  BM_TRUNK_CAVITY_MODEL == _CAVITY_MODEL_BUCKLE_
//         AnyVar ObliquusExternusR11IC_2 = -1*...Model.SpineMusRightRef.ObliquusExternus.ObliquusExternusR11IC_2.LmtDot/...Model.Drivers.AngularVelocity;
//         #endif
       };
       AnyFolder ObliquusInternus = {
         AnyVar ObliquusInternusCC_1 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusCC_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusCC_2 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusCC_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusCC_3 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusCC_3.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusXiphoid = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusXiphoid.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_1 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusAbd_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_2 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusAbd_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_3 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusAbd_3.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_4 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusAbd_4.LmtDot/...Model.Drivers.AngularVelocity;
         #if  BM_TRUNK_CAVITY_MODEL == _CAVITY_MODEL_BUCKLE_
         AnyVar ObliquusInternusXiphoid = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusXiphoid.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_1 = -1*...Model.SpineMusRightRef.ObliquusInternus.ObliquusInternusAbd_1.LmtDot/...Model.Drivers.AngularVelocity;
         #endif
       };
       AnyFolder SemispinalisCapitis = {
         AnyVar C4C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisC4C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar C5C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisC5C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar C6C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisC6C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar C7C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisC7C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar T1C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisT1C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar T2C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisT2C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar T3C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisT3C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar T4C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisT4C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar T5C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisT5C0.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar T6C0 = -1*...Model.SpineMusRightRef.SemispinalisCapitis.SemispinalisCapitisT6C0.LmtDot/...Model.Drivers.AngularVelocity;
       };
       AnyFolder MultifidusThoracis = {
         AnyVar MultifidusThoracisL1T8 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL1T8.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL1T9 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL1T9.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL1T10 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL1T10.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL2T9 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL2T9.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL2T10 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL2T10.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL2T11 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL2T11.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL3T10 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL3T10.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL3T11 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL3T11.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL3T12 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL3T12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL4T11 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL4T11.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL4T12 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL4T12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL5T12 = -1*...Model.SpineMusRightRef.MultifidusThoracis.MultifidusThoracisL5T12.LmtDot/...Model.Drivers.AngularVelocity;
       };
      };//Right

      AnyFolder Left = {
        AnyFolder TransversusAbdominis = {
          AnyVar TransversusAbdominisL1 = -1*...Model.SpineMusLeftRef.TransversusAbdominis.TransversusAbdominisL1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL2 = -1*...Model.SpineMusLeftRef.TransversusAbdominis.TransversusAbdominisL2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL3 = -1*...Model.SpineMusLeftRef.TransversusAbdominis.TransversusAbdominisL3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL4 = -1*...Model.SpineMusLeftRef.TransversusAbdominis.TransversusAbdominisL4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar TransversusAbdominisL5 = -1*...Model.SpineMusLeftRef.TransversusAbdominis.TransversusAbdominisL5.LmtDot/...Model.Drivers.AngularVelocity;
        };
        AnyFolder RectusAbdominis = {
        #if BM_TRUNK_CAVITY_MODEL == _CAVITY_MODEL_BUCKLE_ | BM_TRUNK_EXPERIMENTAL_RECTUS_ABDOMINIS == ON
           AnyVar RectusAbdominis_1 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_2 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_2.LmtDot/...Model.Drivers.AngularVelocity;
         #else
           AnyVar RectusAbdominis_1_1 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1_1.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_2 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1_2.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_3 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1_3.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_4 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1_4.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_5 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1_5.LmtDot/...Model.Drivers.AngularVelocity;
           AnyVar RectusAbdominis_1_6 = -1*...Model.SpineMusLeftRef.RectusAbdominis.RectusAbdominis_1_6.LmtDot/...Model.Drivers.AngularVelocity;
         #endif
       };
        AnyFolder MultifidusLumborum = {
          AnyVar MultifidusLumborumL1L3 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL1L3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2L4 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL2L4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL3L5 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL3L5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL4S1_1 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL4S1_1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL5S1_1 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL5S1_1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL1L4 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL1L4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2L5_1 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL2L5_1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL3S1 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL3S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL4S1_2 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL4S1_2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL5S1_2 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL5S1_2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL1L5 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL1L5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL1S1 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL1S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2L5_2 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL2L5_2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL2S1 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL2S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL3S2 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL3S2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL4S2 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL4S2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumL5S3 = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumL5S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumtL1IC = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumtL1IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar MultifidusLumborumtL2IC = -1*...Model.SpineMusLeftRef.MultifidusLumborum.MultifidusLumborumtL2IC.LmtDot/...Model.Drivers.AngularVelocity;
        };
        AnyFolder IliocostalisLumborum = {
          AnyVar IliocostalisLumborumL1 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumL1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumL2 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumL2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumL3 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumL3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumL4 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumL4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR5 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR6 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR6.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR7 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR7.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR8 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR8.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR9 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR9.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR10 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR10.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR11 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR11.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar IliocostalisLumborumR12 = -1*...Model.SpineMusLeftRef.IliocostalisLumborum.IliocostalisLumborumR12.LmtDot/...Model.Drivers.AngularVelocity;
        };
        AnyFolder LongissimusThoracis = {
          AnyVar LongissimusThoracisL1IC = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisL1IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL2IC = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisL2IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL3IC = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisL3IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL4IC = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisL4IC.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisL5Ilium = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisL5Ilium.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT1L1 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT1L1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT2L2 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT2L2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT3L3 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT3L3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT4L4 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT4L4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT5L5 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT5L5.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT6S1 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT6S1.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT7S2 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT7S2.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT8S3 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT8S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT9S4 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT9S4.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT10S3 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT10S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT11S3 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT11S3.LmtDot/...Model.Drivers.AngularVelocity;
          AnyVar LongissimusThoracisT12S3 = -1*...Model.SpineMusLeftRef.LongissimusThoracis.LongissimusThoracisT12S3.LmtDot/...Model.Drivers.AngularVelocity;
        };
       AnyFolder PsoasMajor = {
         AnyVar PsoasMajorT12 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorT12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL1_1 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL1_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL1_2 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL1_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL2_1 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL2_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL2_2 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL2_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL3_1 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL3_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL3_2 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL3_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL4_1 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL4_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL4_2 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL4_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL5_1 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL5_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar PsoasMajorL5_2 = -1*...Model.SpineMusLeftRef.PsoasMajor.PsoasMajorL5_2.LmtDot/...Model.Drivers.AngularVelocity;
       };
       AnyFolder QuadratusLumborum = {
         AnyVar QuadratusLumborumR12IC_1 = -1*...Model.SpineMusLeftRef.QuadratusLumborum.QuadratusLumborumR12IC_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_2 = -1*...Model.SpineMusLeftRef.QuadratusLumborum.QuadratusLumborumR12IC_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_3 = -1*...Model.SpineMusLeftRef.QuadratusLumborum.QuadratusLumborumR12IC_3.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_4 = -1*...Model.SpineMusLeftRef.QuadratusLumborum.QuadratusLumborumR12IC_4.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar QuadratusLumborumR12IC_5 = -1*...Model.SpineMusLeftRef.QuadratusLumborum.QuadratusLumborumR12IC_5.LmtDot/...Model.Drivers.AngularVelocity;
       };
       AnyFolder ObliquusExternus = {
         AnyVar ObliquusExternusR6Abd = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR6Abd.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR7Abd = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR7Abd.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR8Abd = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR8Abd.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR9Abd_1 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR9Abd_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR10Abd_1 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR10Abd_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR10Abd_2 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR10Abd_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR10IC_1 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR10Abd_2.LmtDot/...Model.Drivers.AngularVelocity;
         #if  BM_TRUNK_CAVITY_MODEL ==_CAVITY_MODEL_VOLUME_
         AnyVar ObliquusExternusR10IC_2 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR10IC_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR11IC_1 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR11IC_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR11IC_2 = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR11IC_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusExternusR12IC = -1*...Model.SpineMusLeftRef.ObliquusExternus.ObliquusExternusR12IC.LmtDot/...Model.Drivers.AngularVelocity;
         #endif
       };
       AnyFolder ObliquusInternus = {
         AnyVar ObliquusInternusR12 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusR12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusR11_1 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusR11_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusR11_2 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusR11_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusR10_1 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusR10_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusR10_2 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusR10_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusCC_1 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusCC_1.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusCC_2 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusCC_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusCC_3 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusCC_3.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusXiphoid = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusXiphoid.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_1 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusAbd_1.LmtDot/...Model.Drivers.AngularVelocity;
         #if  BM_TRUNK_CAVITY_MODEL == _CAVITY_MODEL_VOLUME_
         AnyVar ObliquusInternusAbd_2 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusAbd_2.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_3 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusAbd_3.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar ObliquusInternusAbd_4 = -1*...Model.SpineMusLeftRef.ObliquusInternus.ObliquusInternusAbd_4.LmtDot/...Model.Drivers.AngularVelocity;
         #endif
       };
       AnyFolder MultifidusThoracis = {
         AnyVar MultifidusThoracisL1T8 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL1T8.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL1T9 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL1T9.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL1T10 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL1T10.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL2T9 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL2T9.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL2T10 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL2T10.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL2T11 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL2T11.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL3T10 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL3T10.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL3T11 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL3T11.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL3T12 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL3T12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL4T11 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL4T11.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL4T12 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL4T12.LmtDot/...Model.Drivers.AngularVelocity;
         AnyVar MultifidusThoracisL5T12 = -1*...Model.SpineMusLeftRef.MultifidusThoracis.MultifidusThoracisL5T12.LmtDot/...Model.Drivers.AngularVelocity;
       };
      };//Left


 };
};

#if (ANYBODY_V1 >= 6) & (ANYBODY_V2 >= 1)
AnyFolder ModelViews = { AnyFolder Views =  {}; };
#else
AnyProject ModelViews = {};
#endif

ModelViews = {
  AnyDrawGroup Selection = {
    Objects = arrcat(arrcat(arrcat(arrcat(
                     ObjSearchRecursive(CompleteNameOf(&..Model.PelvisRef ), "*", "AnyDrawObject"),
                     ObjSearchRecursive(CompleteNameOf(&..Model.TrunkRef ), "*", "AnyDrawObject")),
                     ObjSearchRecursive(CompleteNameOf(&..Model.SpineMusRef ), "*", "AnyDrawObject")),
                     ObjSearchRecursive(CompleteNameOf(&..Model.SpineMusRightRef ), "*", "AnyDrawObject")),
                     ObjSearchRecursive(CompleteNameOf(&..Model.SpineMusLeftRef ), "*", "AnyDrawObject"));
  };
  Views = {
    AnyProjectModelViewDefinition SelectedView = {
      DrawGroupSequence = {&..Selection};
      Reset = {On};
    };
  };
};

AnyOperationSequence Run =
{
    AnyOperationMacro SetView =
    {
      MacroStr = { "classoperation " + CompleteNameOf(&..ModelViews.Views.SelectedView) + strquote("Set View") };
    };
    AnyOperation &Study = .Study.Kinematics;
};

#ifdef ANYBODY_PATH_OUTPUT
AnyOperationMacro Save =
{
  MacroStr = {
    "classoperation " + CompleteNameOf(&.Study.Output) + strquote("Save data")
    + " --type=" + strquote("Deep") +" --file=" + strquote(
    ANYBODY_PATH_OUTPUT + .OutputFileName + ".anydata.h5")
  };
};
#endif
