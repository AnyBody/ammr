//import pytest
//define = (
//   [
//    {'USE_FDK':'0'},
//    {'USE_FDK':'1'},
//  ])
//pytest_markers=["slow", pytest.mark.order("second")]
//if any(x in pytest.anytest.ams_path for x in ["7.5_Beta"]):
//   # Knee Simulator example triggers expected errors in 7.5 beta
//   # Hence, we skip it for beta versions and builds med azure agents
//   #pytest_markers= [pytest.mark.xfail(reason="Beta version")]
//   expect_errors = ['Velocity called before positions']
#include "../libdef.any"


#include "../../Application/Examples/KneeSimulator/Main.any"

#ifndef TEST_NAME
#define CREATE_IMAGE
#endif



Main = 
{
#ifndef CREATE_IMAGE
AnyOperation& RunTest = Main.RunApplication;
#else

  #include "../Cameras.any"
  // Use a a special time for the initial position picture.   
  AnyOperationSequence CameraInitPos = 
  {
     AnyOperationSetValue setTime = 
     {
       AnyFloat t_custom  = 0.4;
       Source = {&t_custom};
       Target = {&Main.KneeSimulatorStudy.tStart};
     };
     AnyOperation& CameraInitPos = Main.KneeSimulatorStudy.InitialConditions;
  };
  LoadTimeCam.CameraLookAtPoint = {-0.2,0.40,0};
  LoadTimeCam.CameraFieldOfView = DesignVar(0.25);
  LoadTimeCam.CameraDirection  = {-0.7,0,1};
#endif
};
