//save_study=["Main.Study"]

#include "../libdef.any"

#include "../../Application/Examples/PushUp/PushUp.main.any"

Main =
{

  //check symmetry in model
   AnyInt TestTrigger = DesignVar(0);
OPERATION_TEST_TRIGGER(Main.Study.InverseDynamics.PreOperation, Main.TestTrigger);
AnyFolder &StudyRef = Study;
StudyRef ={
  SymmetryCheck.MirrorPlane = {1,1,-1};
  CheckModel.kin_tol=1e-4;  //model has closed loops... needs higher tol
  CheckModel.force_tol=2.3e-2;  //model has high loads... needs higher tol
  #include "../Symmetry/DynamicTest/Model/CheckFullBody.any"
};


#ifndef CREATE_IMAGE
  AnyOperation& RunTest = Main.RunApplication;
  Study = { FixTestStudyConfig TestStudyConfig = {  }; };
#else
  #include "../Cameras.any"
  AnyOperation& CameraInitPos = Main.Study.InitialConditions;
  LoadTimeCam.CameraLookAtPoint = {0.86,0.35,0};
  LoadTimeCam.CameraFieldOfView = DesignVar(2);
  LoadTimeCam.CameraDirection  = {0,0,1};
#endif
};
