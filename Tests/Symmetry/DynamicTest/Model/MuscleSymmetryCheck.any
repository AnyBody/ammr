AnyFolder SymmetryCheck= {

  #if (BM_ARM_RIGHT != OFF) & (BM_ARM_LEFT != OFF)
  
  AnyFolder Arm ={
    AnyFolder Kinematics = {      
      ComparePtrArrays pos() = {
        Array1 = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Right.ShoulderArm.Seg", "r","AnyFloat", 10
        );
        Array2 = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Left.ShoulderArm.Seg", "r","AnyFloat", 10
        );
      };
      ComparePtrArrays wraps() = {
        Array1 = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "r","AnyFloat", 10
        );
        Array2 = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "r","AnyFloat", 10
        );
      };
    };
    
    AnyFolder Inertia ={
      
      AnyFolder Right ={
        
        AnyKinCoM CoMAll ={
          AnyFolder  &ref= Main.HumanModel.BodyModel.Right.ShoulderArm;
        };

        AnyKinCoM Clavicula = {AnySeg &ref= Main.HumanModel.BodyModel.Right.ShoulderArm.Seg.Clavicula;};
        AnyKinCoM Scapula = {AnySeg &ref= Main.HumanModel.BodyModel.Right.ShoulderArm.Seg.Scapula;};
        AnyKinCoM Humerus = {AnySeg &ref= Main.HumanModel.BodyModel.Right.ShoulderArm.Seg.Humerus;};
        AnyKinCoM Ulna = {AnySeg &ref= Main.HumanModel.BodyModel.Right.ShoulderArm.Seg.Ulna;};
        AnyKinCoM Radius = {AnySeg &ref= Main.HumanModel.BodyModel.Right.ShoulderArm.Seg.Radius;}; 
        AnyKinCoM Hand = {AnySeg &ref= Main.HumanModel.BodyModel.Right.ShoulderArm.Seg.Hand;}; 
      };
      
      AnyFolder Left ={
        
        AnyKinCoM CoMAll ={
          AnyFolder  &ref= Main.HumanModel.BodyModel.Left.ShoulderArm;
        };
        
        AnyKinCoM Clavicula = {AnySeg &ref= Main.HumanModel.BodyModel.Left.ShoulderArm.Seg.Clavicula;};
        AnyKinCoM Scapula = {AnySeg &ref= Main.HumanModel.BodyModel.Left.ShoulderArm.Seg.Scapula;};
        AnyKinCoM Humerus = {AnySeg &ref= Main.HumanModel.BodyModel.Left.ShoulderArm.Seg.Humerus;};
        AnyKinCoM Ulna = {AnySeg &ref= Main.HumanModel.BodyModel.Left.ShoulderArm.Seg.Ulna;};
        AnyKinCoM Radius = {AnySeg &ref= Main.HumanModel.BodyModel.Left.ShoulderArm.Seg.Radius;}; 
        AnyKinCoM Hand = {AnySeg &ref= Main.HumanModel.BodyModel.Left.ShoulderArm.Seg.Hand;}; 
      };
      
      AnyFolder Comparison ={
        AnyFloat CoMDif =(.Right.CoMAll.Pos-.Left.CoMAll.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Clavicula =(.Right.Clavicula.Pos-.Left.Clavicula.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Scapula=(.Right.Scapula.Pos-.Left.Scapula.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Humerus=(.Right.Humerus.Pos-.Left.Humerus.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Ulna=(.Right.Ulna.Pos-.Left.Ulna.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Radius=(.Right.Radius.Pos-.Left.Radius.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Hand=(.Right.Hand.Pos-.Left.Hand.Pos)* {{1,0,0},{0,1,0},{0,0,0}}; 
      };
    };  
    #if BM_ARM_MUSCLES_RIGHT == OFF & BM_ARM_MUSCLES_LEFT == OFF
      AnyFolder JntMuscle ={
        ComparePtrArrays ft() = {
          Array1 = ObjGetMember(
            ObjSearchRecursive(
              "Main.HumanModel.BodyModel.Right.ShoulderArm.JointMuscles", "*","AnyMuscle"
            ), "Ft"
          );
          Array2 = ObjGetMember(
            ObjSearchRecursive(
              "Main.HumanModel.BodyModel.Left.ShoulderArm.JointMuscles", "*","AnyMuscle"
            ), "Ft"
          );      
        };
      };  
    #else    
      AnyFolder Muscle ={
  
        AnyObjectPtrArray right_muscles = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "*", "AnyMuscle"
        );
        AnyObjectPtrArray left_muscles = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "*", "AnyMuscle"
        );
        
//        AnyObjectPtrArray right_ext = ObjSearchRecursive(
//          "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "Extensor*", "AnyMuscle"
//        );
//        AnyObjectPtrArray left_ext = ObjSearchRecursive(
//          "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "Extensor*", "AnyMuscle"
//        );

//        AnyObjectPtrArray right_pec_clav = ObjSearchRecursive(
//          "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "pectoralis_major_clav*", "AnyMuscle"
//        );
//        AnyObjectPtrArray left_pec_clav = ObjSearchRecursive(
//          "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "pectoralis_major_clav*", "AnyMuscle"
//        );

        // AnyObjectPtrArray right_delt = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "deltoideus*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_delt = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "deltoideus*", "AnyMuscle"
        // );

        // AnyObjectPtrArray right_subscap = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "subscapularis*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_subscap = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "subscapularis*", "AnyMuscle"
        // );

        // AnyObjectPtrArray right_infra = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "infraspinatus*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_infra = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "infraspinatus*", "AnyMuscle"
        // );
        // AnyObjectPtrArray right_biceps = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "biceps*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_biceps = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "biceps*", "AnyMuscle"
        // );

        // AnyObjectPtrArray right_trap = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "trap*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_trap = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "trap*", "AnyMuscle"
        // );

        // AnyObjectPtrArray right_brach = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "Brach*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_brach = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "Brach*", "AnyMuscle"
        // );
        
        // AnyObjectPtrArray right_sup = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Right.ShoulderArm.Mus", "Sup*", "AnyMuscle"
        // );
        // AnyObjectPtrArray left_sup = ObjSearchRecursive(
        //   "Main.HumanModel.BodyModel.Left.ShoulderArm.Mus", "Sup*", "AnyMuscle"
        // );

//        AnyObjectPtrArray right_muscles = set_difference(
//          _right_muscles, right_pec_clav, //right_delt, right_subscap, right_infra, right_biceps, right_trap, right_brach, right_sup
//        );
//        AnyObjectPtrArray left_muscles = set_difference(
//          _left_muscles, left_pec_clav, // left_delt, left_subscap, left_infra, left_biceps, left_trap, left_brach, left_sup
//        );

        ComparePtrArrays lmt()={
          Array1 = ObjGetMember(.right_muscles, "Lmt");
          Array2 = ObjGetMember(.left_muscles, "Lmt");
        };
        ComparePtrArrays lmtDot()={
          Array1 = ObjGetMember(.right_muscles, "LmtDot");
          Array2 = ObjGetMember(.left_muscles, "LmtDot");
        };
        ComparePtrArrays strength()={
          Array1 = ObjGetMember(.right_muscles, "Strength");
          Array2 = ObjGetMember(.left_muscles, "Strength");
        };
        ComparePtrArrays ft()={
          Array1 = ObjGetMember(.right_muscles, "Ft");
          Array2 = ObjGetMember(.left_muscles, "Ft");
        };  
      };
    #endif  
  };
  #endif
  
  #if (BM_LEG_RIGHT != OFF) & (BM_LEG_LEFT != OFF)
  AnyFolder Leg = {
    AnyFolder Kinematics = {
      ComparePtrArrays pos() = {
        Array1 = ObjSearchRecursive("Main.HumanModel.BodyModel.Right.Leg", "r","AnyFloat", 10);
        Array2 = ObjSearchRecursive("Main.HumanModel.BodyModel.Left.Leg", "r","AnyFloat", 10);
      };
    };
    
    AnyFolder Inertia ={
      AnyFolder Right ={
        
        AnyKinCoM CoMAll ={
          AnyFolder  &ref= Main.HumanModel.BodyModel.Right.Leg;
        };
        AnyKinCoM Thigh = {AnySeg &ref= Main.HumanModel.BodyModel.Right.Leg.Seg.Thigh;};
        AnyKinCoM Shank = {AnySeg &ref= Main.HumanModel.BodyModel.Right.Leg.Seg.Shank;};
        AnyKinCoM Talus = {AnySeg &ref= Main.HumanModel.BodyModel.Right.Leg.Seg.Talus;};
        AnyKinCoM Foot = {AnySeg &ref= Main.HumanModel.BodyModel.Right.Leg.Seg.Foot;}; 
        
      };
      
      AnyFolder Left ={
        
        AnyKinCoM CoMAll ={
          AnyFolder  &ref= Main.HumanModel.BodyModel.Left.Leg;
        };
        
        AnyKinCoM Thigh ={   AnySeg  &ref= Main.HumanModel.BodyModel.Left.Leg.Seg.Thigh;      };
         AnyKinCoM Shank={   AnySeg  &ref= Main.HumanModel.BodyModel.Left.Leg.Seg.Shank;      };
        AnyKinCoM Talus={   AnySeg  &ref= Main.HumanModel.BodyModel.Left.Leg.Seg.Talus;      };
        AnyKinCoM Foot={   AnySeg  &ref= Main.HumanModel.BodyModel.Left.Leg.Seg.Foot;      }; 
      };
      
      AnyFolder Comparison ={
        AnyFloat CoMDif =(.Right.CoMAll.Pos-.Left.CoMAll.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Thigh =(.Right.Thigh.Pos-.Left.Thigh.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Shank=(.Right.Shank.Pos-.Left.Shank.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Talus=(.Right.Talus.Pos-.Left.Talus.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
        AnyFloat Foot=(.Right.Foot.Pos-.Left.Foot.Pos)* {{1,0,0},{0,1,0},{0,0,0}};
      };
    };  
    #if BM_LEG_MUSCLES_BOTH == OFF
      AnyFolder JntMuscle ={
        ComparePtrArrays ft() = {
          Array1 = ObjGetMember(
            ObjSearchRecursive(
              "Main.HumanModel.BodyModel.Right.ShoulderArm.JointMuscles", "*","AnyMuscle"
            ), "Ft"
          );
          Array2 = ObjGetMember(
            ObjSearchRecursive(
              "Main.HumanModel.BodyModel.Left.ShoulderArm.JointMuscles", "*","AnyMuscle"
            ), "Ft"
          );      
        };
      };  
    #endif
    
    #if BM_LEG_MUSCLES_BOTH == ON
    
      AnyFolder Muscle ={
        AnyObjectPtrArray right_muscles = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Right.Leg.Mus", "*", "AnyMuscle"
        );
        AnyObjectPtrArray left_muscles = ObjSearchRecursive(
          "Main.HumanModel.BodyModel.Left.Leg.Mus", "*", "AnyMuscle"
        );
        
        ComparePtrArrays lmt()={
          Array1 = ObjGetMember(.right_muscles, "Lmt");
          Array2 = ObjGetMember(.left_muscles, "Lmt");
        };
        ComparePtrArrays lmtDot()={
          Array1 = ObjGetMember(.right_muscles, "LmtDot");
          Array2 = ObjGetMember(.left_muscles, "LmtDot");
        };
        ComparePtrArrays strength()={
          Array1 = ObjGetMember(.right_muscles, "Strength");
          Array2 = ObjGetMember(.left_muscles, "Strength");
        };
        ComparePtrArrays ft()={
          Array1 = ObjGetMember(.right_muscles, "Ft");
          Array2 = ObjGetMember(.left_muscles, "Ft");
        };
      };
    #endif 
    };
  #endif
  
  AnyFolder Trunk ={
    AnyFolder Kinematics ={
      
      ComparePtrArrays pos() = {
        Array1 = ObjSearchRecursive("Main.HumanModel.BodyModel.Trunk", "*R.r","AnyFloat", 10);
        Array2 = ObjSearchRecursive("Main.HumanModel.BodyModel.Trunk", "*L.r","AnyFloat", 10);
      };
    };
    
    AnyFolder Inertia ={
      AnyKinCoM CoMAll ={
        AnyFolder  &ref= Main.HumanModel.BodyModel.Trunk;
      };      
    };  
    
    #if BM_TRUNK_MUSCLES != OFF
    
    AnyFolder Muscle ={
      AnyObjectPtrArray right_muscles = ObjSearchRecursive(
        "Main.HumanModel.BodyModel.Trunk.Muscles.Right", "*", "AnyMuscle"
      );
      AnyObjectPtrArray left_muscles = ObjSearchRecursive(
        "Main.HumanModel.BodyModel.Trunk.Muscles.Left", "*", "AnyMuscle"
      );

      ComparePtrArrays lmt()={
        Array1 = ObjGetMember(.right_muscles, "Lmt");
        Array2 = ObjGetMember(.left_muscles, "Lmt");
      };
      ComparePtrArrays lmtDot()={
        Array1 = ObjGetMember(.right_muscles, "LmtDot");
        Array2 = ObjGetMember(.left_muscles, "LmtDot");
      };
      ComparePtrArrays strength()={
        Array1 = ObjGetMember(.right_muscles, "Strength");
        Array2 = ObjGetMember(.left_muscles, "Strength");
      };
      ComparePtrArrays ft()={
        Array1 = ObjGetMember(.right_muscles, "Ft");
        Array2 = ObjGetMember(.left_muscles, "Ft");
      };       
    };  
   #endif
  };
};