AnyFolder JointsAndDrivers = {
    AnyComponentDefinition obj = {
      NameCast = "OptimizedJointDrivers";
    };

 #ifdef MOCAP_OUTPUT_FILENAME_PREFIX
    AnyStringVar BaseFileName ??=   TEMP_PATH + "/" + MOCAP_TEST_FILENAME_PREFIX + MOCAP_OUTPUT_FILENAME_PREFIX + Main.ModelSetup.TrialSpecificData.TrialFileName ;
 #else
    AnyStringVar BaseFileName ??=  "test";
 #endif

AnyKinDriver JntDriverTrunkFull = {

  #include "InterpolateJointAngleData.any"
  FileReader.FileName ??= .BaseFileName + "-rotvec-trunk-full.txt";

  /// The default data if no joint angles files have been generated.
  FileReader.Data0 = repmat(
    1, FileReader.Length0,
    arrcat({Main.Human1.HumanModel.Mannequin.Posture.PelvisPosX,
            Main.Human1.HumanModel.Mannequin.Posture.PelvisPosY,
            Main.Human1.HumanModel.Mannequin.Posture.PelvisPosZ,
            Main.Human1.HumanModel.Mannequin.Posture.PelvisRotX*pi/180,
            Main.Human1.HumanModel.Mannequin.Posture.PelvisRotY*pi/180,
            Main.Human1.HumanModel.Mannequin.Posture.PelvisRotZ*pi/180,
            
            Main.Human2.HumanModel.Mannequin.Posture.PelvisPosX,
            Main.Human2.HumanModel.Mannequin.Posture.PelvisPosY,
            Main.Human2.HumanModel.Mannequin.Posture.PelvisPosZ,
            Main.Human2.HumanModel.Mannequin.Posture.PelvisRotX*pi/180,
            Main.Human2.HumanModel.Mannequin.Posture.PelvisRotY*pi/180,
            Main.Human2.HumanModel.Mannequin.Posture.PelvisRotZ*pi/180

           },repmat(nDim-12,0.0)
    )
  );
  #ifdef ANYMOCAP_PELVIS_DRIVER_OFFSET
    // Special feature for overriding the pelvis position.
    // This is not enable by default
    AnyVector H1_PelvisPosOffset ??= {0,0,0};
    AnyKinMeasureLinComb H1_PelvisPos = {
      AnyKinMeasureOrg Input = {
        AnyKinMeasure& H1_PelvisPosX = .....BodyModel1.Interface.Trunk.PelvisPosX;
        AnyKinMeasure& H1_PelvisPosY = .....BodyModel1.Interface.Trunk.PelvisPosY;
        AnyKinMeasure& H1_PelvisPosZ = .....BodyModel1.Interface.Trunk.PelvisPosZ;
      };
      OutDim=3;
      Coef = eye(3);
      Const ??= .H1_PelvisPosOffset;
    };
  #else
  AnyKinMeasure& H1_PelvisPosX = ...BodyModel1.Interface.Trunk.PelvisPosX;
  AnyKinMeasure& H1_PelvisPosY = ...BodyModel1.Interface.Trunk.PelvisPosY;
  AnyKinMeasure& H1_PelvisPosZ = ...BodyModel1.Interface.Trunk.PelvisPosZ;
  #endif
  AnyKinMeasure& H1_PelvisRotVec = ...BodyModel1.Interface.Trunk.PelvisRotVec;
  AnyKinMeasureOrg& H1_SacrumPelvis = ...BodyModel1.Interface.Trunk.Spine.SacrumPelvis;
  AnyKinMeasureOrg& H1_L5Sacrum =...BodyModel1.Interface.Trunk.Spine.L5Sacrum;
  AnyKinMeasureOrg& H1_L4L5 =...BodyModel1.Interface.Trunk.Spine.L4L5;
  AnyKinMeasureOrg& H1_L3L4 =...BodyModel1.Interface.Trunk.Spine.L3L4;
  AnyKinMeasureOrg& H1_L2L3 =...BodyModel1.Interface.Trunk.Spine.L2L3;
  AnyKinMeasureOrg& H1_L1L2 =...BodyModel1.Interface.Trunk.Spine.L1L2;
  AnyKinMeasureOrg& H1_T12L1 =...BodyModel1.Interface.Trunk.Spine.T12L1;
  AnyKinMeasureOrg& H1_T1C7 =...BodyModel1.Interface.Trunk.Spine.T1C7;
  AnyKinMeasureOrg& H1_C7C6 =...BodyModel1.Interface.Trunk.Spine.C7C6;
  AnyKinMeasureOrg& H1_C6C5 =...BodyModel1.Interface.Trunk.Spine.C6C5;
  AnyKinMeasureOrg& H1_C5C4 =...BodyModel1.Interface.Trunk.Spine.C5C4;
  AnyKinMeasureOrg& H1_C4C3 =...BodyModel1.Interface.Trunk.Spine.C4C3;
  AnyKinMeasureOrg& H1_C3C2 =...BodyModel1.Interface.Trunk.Spine.C3C2;
  AnyKinMeasureOrg& H1_C2C1 =...BodyModel1.Interface.Trunk.Spine.C2C1;
  AnyKinMeasureOrg& H1_C1C0 =...BodyModel1.Interface.Trunk.Spine.C1C0;

  
  #ifdef ANYMOCAP_PELVIS_DRIVER_OFFSET
    // Special feature for overriding the pelvis position.
    // This is not enable by default
    AnyVector H2_PelvisPosOffset ??= {0,0,0};
    AnyKinMeasureLinComb H2_PelvisPos = {
      AnyKinMeasureOrg Input = {
        AnyKinMeasure& H2_PelvisPosX = .....BodyModel2.Interface.Trunk.PelvisPosX;
        AnyKinMeasure& H2_PelvisPosY = .....BodyModel2.Interface.Trunk.PelvisPosY;
        AnyKinMeasure& H2_PelvisPosZ = .....BodyModel2.Interface.Trunk.PelvisPosZ;
      };
      OutDim=3;
      Coef = eye(3);
      Const ??= .H2_PelvisPosOffset;
    };
  #else
  AnyKinMeasure& H2_PelvisPosX = ...BodyModel2.Interface.Trunk.PelvisPosX;
  AnyKinMeasure& H2_PelvisPosY = ...BodyModel2.Interface.Trunk.PelvisPosY;
  AnyKinMeasure& H2_PelvisPosZ = ...BodyModel2.Interface.Trunk.PelvisPosZ;
  #endif

  AnyKinMeasure& H2_PelvisRotVec = ...BodyModel2.Interface.Trunk.PelvisRotVec;
  AnyKinMeasureOrg& H2_SacrumPelvis = ...BodyModel2.Interface.Trunk.Spine.SacrumPelvis;
  AnyKinMeasureOrg& H2_L5Sacrum =...BodyModel2.Interface.Trunk.Spine.L5Sacrum;
  AnyKinMeasureOrg& H2_L4L5 =...BodyModel2.Interface.Trunk.Spine.L4L5;
  AnyKinMeasureOrg& H2_L3L4 =...BodyModel2.Interface.Trunk.Spine.L3L4;
  AnyKinMeasureOrg& H2_L2L3 =...BodyModel2.Interface.Trunk.Spine.L2L3;
  AnyKinMeasureOrg& H2_L1L2 =...BodyModel2.Interface.Trunk.Spine.L1L2;
  AnyKinMeasureOrg& H2_T12L1 =...BodyModel2.Interface.Trunk.Spine.T12L1;
  AnyKinMeasureOrg& H2_T1C7 =...BodyModel2.Interface.Trunk.Spine.T1C7;
  AnyKinMeasureOrg& H2_C7C6 =...BodyModel2.Interface.Trunk.Spine.C7C6;
  AnyKinMeasureOrg& H2_C6C5 =...BodyModel2.Interface.Trunk.Spine.C6C5;
  AnyKinMeasureOrg& H2_C5C4 =...BodyModel2.Interface.Trunk.Spine.C5C4;
  AnyKinMeasureOrg& H2_C4C3 =...BodyModel2.Interface.Trunk.Spine.C4C3;
  AnyKinMeasureOrg& H2_C3C2 =...BodyModel2.Interface.Trunk.Spine.C3C2;
  AnyKinMeasureOrg& H2_C2C1 =...BodyModel2.Interface.Trunk.Spine.C2C1;
  AnyKinMeasureOrg& H2_C1C0 =...BodyModel2.Interface.Trunk.Spine.C1C0;  
  Reaction.Type = repmat(nDim, Off);
};



  #if BM_LEG_LEFT & BM_LEG_MODEL_IS_TLEM
  AnyKinDriver JntDriverLeftLegTD = {

    #include "InterpolateJointAngleData.any"
    FileReader.FileName = TEMP_PATH + "/" + MOCAP_TEST_FILENAME_PREFIX +MOCAP_OUTPUT_FILENAME_PREFIX + Main.ModelSetup.TrialSpecificData.TrialFileName + "-euler-left_leg_tlem.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_HipFlexion = ...BodyModel1.Interface.Left.HipFlexion;
    AnyKinMeasureOrg& H1_HipAbduction = ...BodyModel1.Interface.Left.HipAbduction;
    AnyKinMeasureOrg& H1_HipExternalRotation = ...BodyModel1.Interface.Left.HipExternalRotation;
    AnyKinMeasureOrg& H1_KneeFlexion = ...BodyModel1.Interface.Left.KneeFlexion;
    AnyKinMeasureOrg& H1_AnklePlantarFlexion = ...BodyModel1.Interface.Left.AnklePlantarFlexion;
    AnyKinMeasureOrg& H1_SubTalarEversion = ...BodyModel1.Interface.Left.SubTalarEversion;

    AnyKinMeasureOrg& H2_HipFlexion = ...BodyModel2.Interface.Left.HipFlexion;
    AnyKinMeasureOrg& H2_HipAbduction = ...BodyModel2.Interface.Left.HipAbduction;
    AnyKinMeasureOrg& H2_HipExternalRotation = ...BodyModel2.Interface.Left.HipExternalRotation;
    AnyKinMeasureOrg& H2_KneeFlexion = ...BodyModel2.Interface.Left.KneeFlexion;
    AnyKinMeasureOrg& H2_AnklePlantarFlexion = ...BodyModel2.Interface.Left.AnklePlantarFlexion;
    AnyKinMeasureOrg& H2_SubTalarEversion = ...BodyModel2.Interface.Left.SubTalarEversion;
    Reaction.Type = repmat(nDim, Off);
  };
  #endif


  #if BM_LEG_RIGHT & BM_LEG_MODEL_IS_TLEM
  AnyKinDriver JntDriverRightLegTD = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName = TEMP_PATH + "/" + MOCAP_TEST_FILENAME_PREFIX +  MOCAP_OUTPUT_FILENAME_PREFIX + Main.ModelSetup.TrialSpecificData.TrialFileName + "-euler-right_leg_tlem.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_HipFlexion = ...BodyModel1.Interface.Right.HipFlexion;
    AnyKinMeasureOrg& H1_HipAbduction = ...BodyModel1.Interface.Right.HipAbduction;
    AnyKinMeasureOrg& H1_HipExternalRotation = ...BodyModel1.Interface.Right.HipExternalRotation;
    AnyKinMeasureOrg& H1_KneeFlexion = ...BodyModel1.Interface.Right.KneeFlexion;
    AnyKinMeasureOrg& H1_AnklePlantarFlexion = ...BodyModel1.Interface.Right.AnklePlantarFlexion;
    AnyKinMeasureOrg& H1_SubTalarEversion = ...BodyModel1.Interface.Right.SubTalarEversion;

    AnyKinMeasureOrg& H2_HipFlexion = ...BodyModel2.Interface.Right.HipFlexion;
    AnyKinMeasureOrg& H2_HipAbduction = ...BodyModel2.Interface.Right.HipAbduction;
    AnyKinMeasureOrg& H2_HipExternalRotation = ...BodyModel2.Interface.Right.HipExternalRotation;
    AnyKinMeasureOrg& H2_KneeFlexion = ...BodyModel2.Interface.Right.KneeFlexion;
    AnyKinMeasureOrg& H2_AnklePlantarFlexion = ...BodyModel2.Interface.Right.AnklePlantarFlexion;
    AnyKinMeasureOrg& H2_SubTalarEversion = ...BodyModel2.Interface.Right.SubTalarEversion;    
    Reaction.Type = repmat(nDim, Off);
  };
  #endif



  #if BM_LEG_LEFT & BM_LEG_MODEL == _LEG_MODEL_LEG_
  AnyKinDriver JntDriverLeftLeg = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName ??= .BaseFileName + "-euler-left_leg.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_HipFlexion = ...BodyModel1.Interface.Left.HipFlexion;
    AnyKinMeasureOrg& H1_HipAbduction = ...BodyModel1.Interface.Left.HipAbduction;
    AnyKinMeasureOrg& H1_HipExternalRotation = ...BodyModel1.Interface.Left.HipExternalRotation;
    AnyKinMeasureOrg& H1_KneeFlexion = ...BodyModel1.Interface.Left.KneeFlexion;
    AnyKinMeasureOrg& H1_AnklePlantarFlexion = ...BodyModel1.Interface.Left.AnklePlantarFlexion;
    AnyKinMeasureOrg& H1_AnkleEversion = ...BodyModel1.Interface.Left.AnkleEversion;

    AnyKinMeasureOrg& H2_HipFlexion = ...BodyModel2.Interface.Left.HipFlexion;
    AnyKinMeasureOrg& H2_HipAbduction = ...BodyModel2.Interface.Left.HipAbduction;
    AnyKinMeasureOrg& H2_HipExternalRotation = ...BodyModel2.Interface.Left.HipExternalRotation;
    AnyKinMeasureOrg& H2_KneeFlexion = ...BodyModel2.Interface.Left.KneeFlexion;
    AnyKinMeasureOrg& H2_AnklePlantarFlexion = ...BodyModel2.Interface.Left.AnklePlantarFlexion;
    AnyKinMeasureOrg& H2_AnkleEversion = ...BodyModel2.Interface.Left.AnkleEversion;
    Reaction.Type = repmat(nDim, Off);
  };
  #endif


  #if BM_LEG_RIGHT & BM_LEG_MODEL == _LEG_MODEL_LEG_
  AnyKinDriver JntDriverRightLeg = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName ??= .BaseFileName + "-euler-right_leg.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_HipFlexion = ...BodyModel1.Interface.Right.HipFlexion;
    AnyKinMeasureOrg& H1_HipAbduction = ...BodyModel1.Interface.Right.HipAbduction;
    AnyKinMeasureOrg& H1_HipExternalRotation = ...BodyModel1.Interface.Right.HipExternalRotation;
    AnyKinMeasureOrg& H1_KneeFlexion = ...BodyModel1.Interface.Right.KneeFlexion;
    AnyKinMeasureOrg& H1_AnklePlantarFlexion = ...BodyModel1.Interface.Right.AnklePlantarFlexion;
    AnyKinMeasureOrg& H1_AnkleEversion = ...BodyModel1.Interface.Right.AnkleEversion;

    AnyKinMeasureOrg& H2_HipFlexion = ...BodyModel2.Interface.Right.HipFlexion;
    AnyKinMeasureOrg& H2_HipAbduction = ...BodyModel2.Interface.Right.HipAbduction;
    AnyKinMeasureOrg& H2_HipExternalRotation = ...BodyModel2.Interface.Right.HipExternalRotation;
    AnyKinMeasureOrg& H2_KneeFlexion = ...BodyModel2.Interface.Right.KneeFlexion;
    AnyKinMeasureOrg& H2_AnklePlantarFlexion = ...BodyModel2.Interface.Right.AnklePlantarFlexion;
    AnyKinMeasureOrg& H2_AnkleEversion = ...BodyModel2.Interface.Right.AnkleEversion;
    Reaction.Type = repmat(nDim, Off);
  };
  #endif

  #if BM_ARM_LEFT == ON
  AnyKinDriver JntDriverLeftArm = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName ??= .BaseFileName + "-rotvec-left_arm_shoulder.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_ThoraxClavicula=...BodyModel1.Interface.Left.RotVectorMeasures.ThoraxClavicula;
    AnyKinMeasureOrg& H1_ClaviculaScapula=...BodyModel1.Interface.Left.RotVectorMeasures.ClaviculaScapula;
    AnyKinMeasureOrg& H1_ScapulaHumerus=...BodyModel1.Interface.Left.RotVectorMeasures.ScapulaHumerus;
    AnyKinMeasureOrg& H1_HumerusUlna=...BodyModel1.Interface.Left.ElbowFlexion;
    AnyKinMeasureOrg& H1_UlnaRadius=...BodyModel1.Interface.Left.ElbowPronation;
    AnyKinMeasureOrg& H1_RadiusWrist=...BodyModel1.Interface.Left.WristFlexion;
    AnyKinMeasureOrg& H1_WristHand=...BodyModel1.Interface.Left.WristAbduction;

    AnyKinMeasureOrg& H2_ThoraxClavicula=...BodyModel2.Interface.Left.RotVectorMeasures.ThoraxClavicula;
    AnyKinMeasureOrg& H2_ClaviculaScapula=...BodyModel2.Interface.Left.RotVectorMeasures.ClaviculaScapula;
    AnyKinMeasureOrg& H2_ScapulaHumerus=...BodyModel2.Interface.Left.RotVectorMeasures.ScapulaHumerus;
    AnyKinMeasureOrg& H2_HumerusUlna=...BodyModel2.Interface.Left.ElbowFlexion;
    AnyKinMeasureOrg& H2_UlnaRadius=...BodyModel2.Interface.Left.ElbowPronation;
    AnyKinMeasureOrg& H2_RadiusWrist=...BodyModel2.Interface.Left.WristFlexion;
    AnyKinMeasureOrg& H2_WristHand=...BodyModel2.Interface.Left.WristAbduction;
    Reaction.Type = repmat(nDim, Off);
  };

  #if BM_ARM_DETAILED_HAND
  AnyKinDriver JntDriverLeftDetailedHand = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName ??= .BaseFileName + "-euler-left_detailed_hand.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_CMC1Flexion = ...BodyModel1.Interface.Left.CMCFlexion;
    AnyKinMeasureOrg& H1_CMC1Abduction = ...BodyModel1.Interface.Left.CMCAbduction;
    AnyKinMeasureOrg& H1_MCP1Flexion = ...BodyModel1.Interface.Left.MCPFlexion;
    AnyKinMeasureOrg& H1_MCP1Abduction = ...BodyModel1.Interface.Left.MCPAbduction;
    AnyKinMeasureOrg& H1_DIP1 = ...BodyModel1.Interface.Left.DIP;
    AnyKinMeasureOrg& H1_MCP2 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger2.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP2 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger2.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP2 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger2.Jnt.DIP;
    AnyKinMeasureOrg& H1_MCP3 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger3.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP3 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger3.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP3 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger3.Jnt.DIP;
    AnyKinMeasureOrg& H1_MCP4 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger4.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP4 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger4.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP4 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger4.Jnt.DIP;
    AnyKinMeasureOrg& H1_MCP5 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger5.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP5 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger5.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP5 = ...BodyModel1.Left.ShoulderArm.Seg.Hand.Finger5.Jnt.DIP;

    AnyKinMeasureOrg& H2_CMC1Flexion = ...BodyModel2.Interface.Left.CMCFlexion;
    AnyKinMeasureOrg& H2_CMC1Abduction = ...BodyModel2.Interface.Left.CMCAbduction;
    AnyKinMeasureOrg& H2_MCP1Flexion = ...BodyModel2.Interface.Left.MCPFlexion;
    AnyKinMeasureOrg& H2_MCP1Abduction = ...BodyModel2.Interface.Left.MCPAbduction;
    AnyKinMeasureOrg& H2_DIP1 = ...BodyModel2.Interface.Left.DIP;
    AnyKinMeasureOrg& H2_MCP2 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger2.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP2 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger2.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP2 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger2.Jnt.DIP;
    AnyKinMeasureOrg& H2_MCP3 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger3.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP3 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger3.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP3 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger3.Jnt.DIP;
    AnyKinMeasureOrg& H2_MCP4 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger4.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP4 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger4.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP4 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger4.Jnt.DIP;
    AnyKinMeasureOrg& H2_MCP5 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger5.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP5 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger5.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP5 = ...BodyModel2.Left.ShoulderArm.Seg.Hand.Finger5.Jnt.DIP;
    Reaction.Type = repmat(nDim, Off);
  };
  #endif


  #endif

  #if BM_ARM_RIGHT == ON
  AnyKinDriver JntDriverRightArm = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName ??= .BaseFileName + "-rotvec-right_arm_shoulder.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_ThoraxClavicula=...BodyModel1.Interface.Right.RotVectorMeasures.ThoraxClavicula;
    AnyKinMeasureOrg& H1_ClaviculaScapula=...BodyModel1.Interface.Right.RotVectorMeasures.ClaviculaScapula;
    AnyKinMeasureOrg& H1_ScapulaHumerus=...BodyModel1.Interface.Right.RotVectorMeasures.ScapulaHumerus;
    AnyKinMeasureOrg& H1_HumerusUlna=...BodyModel1.Interface.Right.ElbowFlexion;
    AnyKinMeasureOrg& H1_UlnaRadius=...BodyModel1.Interface.Right.ElbowPronation;
    AnyKinMeasureOrg& H1_RadiusWrist=...BodyModel1.Interface.Right.WristFlexion;
    AnyKinMeasureOrg& H1_WristHand=...BodyModel1.Interface.Right.WristAbduction;

    AnyKinMeasureOrg& H2_ThoraxClavicula=...BodyModel2.Interface.Right.RotVectorMeasures.ThoraxClavicula;
    AnyKinMeasureOrg& H2_ClaviculaScapula=...BodyModel2.Interface.Right.RotVectorMeasures.ClaviculaScapula;
    AnyKinMeasureOrg& H2_ScapulaHumerus=...BodyModel2.Interface.Right.RotVectorMeasures.ScapulaHumerus;
    AnyKinMeasureOrg& H2_HumerusUlna=...BodyModel2.Interface.Right.ElbowFlexion;
    AnyKinMeasureOrg& H2_UlnaRadius=...BodyModel2.Interface.Right.ElbowPronation;
    AnyKinMeasureOrg& H2_RadiusWrist=...BodyModel2.Interface.Right.WristFlexion;
    AnyKinMeasureOrg& H2_WristHand=...BodyModel2.Interface.Right.WristAbduction;
    Reaction.Type = repmat(nDim, Off);
  };

  #if BM_ARM_DETAILED_HAND
  AnyKinDriver JntDriverRightDetailedHand = {
    #include "InterpolateJointAngleData.any"
    FileReader.FileName ??= .BaseFileName + "-euler-right_detailed_hand.txt";
    FileReader.Data0 = zeros(nDim, FileReader.Length0 );

    AnyKinMeasureOrg& H1_CMC1Flexion = ...BodyModel1.Interface.Right.CMCFlexion;
    AnyKinMeasureOrg& H1_CMC1Abduction = ...BodyModel1.Interface.Right.CMCAbduction;
    AnyKinMeasureOrg& H1_MCP1Flexion = ...BodyModel1.Interface.Right.MCPFlexion;
    AnyKinMeasureOrg& H1_MCP1Abduction = ...BodyModel1.Interface.Right.MCPAbduction;
    AnyKinMeasureOrg& H1_DIP1 = ...BodyModel1.Interface.Right.DIP;
    AnyKinMeasureOrg& H1_MCP2 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger2.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP2 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger2.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP2 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger2.Jnt.DIP;
    AnyKinMeasureOrg& H1_MCP3 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger3.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP3 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger3.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP3 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger3.Jnt.DIP;
    AnyKinMeasureOrg& H1_MCP4 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger4.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP4 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger4.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP4 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger4.Jnt.DIP;
    AnyKinMeasureOrg& H1_MCP5 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger5.Jnt.MCP;
    AnyKinMeasureOrg& H1_PIP5 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger5.Jnt.PIP;
    AnyKinMeasureOrg& H1_DIP5 = ...BodyModel1.Right.ShoulderArm.Seg.Hand.Finger5.Jnt.DIP;

    AnyKinMeasureOrg& H2_CMC1Flexion = ...BodyModel2.Interface.Right.CMCFlexion;
    AnyKinMeasureOrg& H2_CMC1Abduction = ...BodyModel2.Interface.Right.CMCAbduction;
    AnyKinMeasureOrg& H2_MCP1Flexion = ...BodyModel2.Interface.Right.MCPFlexion;
    AnyKinMeasureOrg& H2_MCP1Abduction = ...BodyModel2.Interface.Right.MCPAbduction;
    AnyKinMeasureOrg& H2_DIP1 = ...BodyModel2.Interface.Right.DIP;
    AnyKinMeasureOrg& H2_MCP2 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger2.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP2 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger2.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP2 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger2.Jnt.DIP;
    AnyKinMeasureOrg& H2_MCP3 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger3.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP3 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger3.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP3 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger3.Jnt.DIP;
    AnyKinMeasureOrg& H2_MCP4 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger4.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP4 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger4.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP4 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger4.Jnt.DIP;
    AnyKinMeasureOrg& H2_MCP5 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger5.Jnt.MCP;
    AnyKinMeasureOrg& H2_PIP5 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger5.Jnt.PIP;
    AnyKinMeasureOrg& H2_DIP5 = ...BodyModel2.Right.ShoulderArm.Seg.Hand.Finger5.Jnt.DIP;
    Reaction.Type = repmat(nDim, Off);
  };
  #endif


  #endif

  // Collect all the driver values and names in single variables which can
  // more easily be saved or exported.
  CollectDriverValues AllDoFs(HEADER_PREFIX="DOF:") = { };


};




