#ifndef DEFINE_LOCAL_COORDINATE
#define DEFINE_LOCAL_COORDINATE(rNode) sRel = (rNode-.rOffset)*.AOffset;
#endif 




Main = {
  HumanModel ={
    //include all scripts needed for moving-axis knee model
    #include "SubjectSpecificScaling.any"
    #include "Femur_FitCylinders_MA.any"
    #include "Tibia_FitCylinders_MA.any"
    #include "KneeJointNodes.any"
    #include "InvisibleSegments.any"   
    #include "InvisibleJoints_Drivers.any"
    
    BodyModel.Interface.Right = {
      #include "<ANYBODY_PATH_MODELUTILS>\MovingAxisKnee\TibiofemoralMeasures.any"
    };
    
    Main.HumanModel.BodyModel.Right.Leg.Seg.Thigh.KneeJoint = {
    AnyVec3 sRelUnscaled = ((.StdPar.EpicondylusFemorisLateralis)+(.StdPar.EpicondylusFemorisMedialis))/2;
  };
  
//  //FIX ME//Gait model will not run without this KinematicTol change, however FlywheelSquat will.
//  Main.Studies.MarkerTracking.InitialConditions.KinematicTol=1e-3;
//  Main.Studies.MarkerTracking.Kinematics.KinematicTol=1e-3;

  
  
  };
};


