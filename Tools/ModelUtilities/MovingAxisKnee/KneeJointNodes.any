BodyModel.Right.Leg.Seg.Thigh = {  
  AnyRefNode KneeJoint = {
    sRel = (.EpicondylusFemorisMedialis.sRel+.EpicondylusFemorisLateralis.sRel)/2.0;
    ARel = RotMat(sRel,.EpicondylusFemorisLateralis.sRel,.HipJoint.sRel)*RotMat(pi/2,y);         
    AnyDrawRefFrame drw={Visible=Off;ScaleXYZ=0.1*{1,1,1};RGB={0,1,0};}; 
  };
};

 
BodyModel.Right.Leg.Seg.Shank = {  
  AnyFunTransform3D &Femur_to_CT = Main.HumanModel.SubjectSpecificScaling.Right.Thigh.Seg2CT;
  AnyRefNode KneeJoint = {
    sRel = (
       .CustomMarkerScaling(.Femur_to_CT(..Thigh.EpicondylusFemorisMedialis.sRel))
       +.CustomMarkerScaling(.Femur_to_CT(..Thigh.EpicondylusFemorisLateralis.sRel))
    )/2.0;
    ARel = RotMat(
       sRel,
       .CustomMarkerScaling(.Femur_to_CT(..Thigh.EpicondylusFemorisLateralis.sRel)),
       .CustomMarkerScaling(.Femur_to_CT(..Thigh.HipJoint.sRel))
    )*RotMat(pi/2,y);        
    AnyDrawRefFrame drw={Visible= Off; ScaleXYZ=0.1*{1,1,1};RGB={0,1,0};};
  };
};

